function dslc_ui_animations(){if(dslcDebug)console.log("dslc_ui_animations");jQuery(document).on("mouseenter",".dslca-modules-area-manage",function(){jQuery(this).closest(".dslc-modules-area").addClass("dslca-options-hovered")}).on("mouseleave",".dslca-modules-area-manage",function(){jQuery(this).closest(".dslc-modules-area").removeClass("dslca-options-hovered")});jQuery(document).on("mouseenter",".dslca-drag-not-in-progress .dslc-module-front",function(a){if(!jQuery("body").hasClass("dslca-composer-hidden")){if(jQuery(this).height()<190)jQuery(".dslca-module-manage",this).addClass("dslca-horizontal");else jQuery(".dslca-module-manage",this).removeClass("dslca-horizontal")}}).on("mouseleave",".dslca-drag-not-in-progress .dslc-module-front",function(a){if(!jQuery("body").hasClass("dslca-composer-hidden")){jQuery(this).find(".dslca-change-width-module-options").hide()}jQuery(this).find(".dslca-module-manage").removeClass("dslca-module-manage-change-width-active")});jQuery(document).on("mouseenter",".dslca-drag-not-in-progress .dslc-modules-area",function(a){var b=jQuery(this);if(!jQuery("body").hasClass("dslca-composer-hidden")){jQuery("#dslc-header").addClass("dslca-header-low-z-index");if(jQuery(this).height()<130)jQuery(".dslca-modules-area-manage",this).addClass("dslca-horizontal");else jQuery(".dslca-modules-area-manage",this).removeClass("dslca-horizontal")}}).on("mouseleave",".dslca-drag-not-in-progress .dslc-modules-area",function(a){var b=jQuery(this);if(!jQuery("body").hasClass("dslca-composer-hidden")){jQuery("#dslc-header").removeClass("dslca-header-low-z-index")}})}jQuery(document).ready(function(){dslc_ui_animations()});function dslc_save_composer(){if(dslcDebug)console.log("dslc_save_composer");dslc_generate_code();dslca_gen_content_for_search();var a=jQuery("#dslca-code").val(),b=jQuery("#dslca-content-for-search").val(),c=jQuery(".dslca-container").data("post-id");jQuery("body").addClass("dslca-saving-in-progress");jQuery(".dslca-save-composer .dslca-icon").removeClass("dslc-icon-ok").addClass("dslc-icon-spin dslc-icon-spinner");jQuery.ajax({method:"POST",type:"POST",url:DSLCAjax.ajaxurl,data:{action:"dslc-ajax-save-composer",dslc:"active",dslc_post_id:c,dslc_code:a,dslc_content_for_search:b},timeout:1e4}).done(function(a){if(a.status=="success"){jQuery(".dslca-save-composer").fadeOut(250);jQuery(".dslca-save-draft-composer").fadeOut(250)}else{alert("Something went wrong, please try to save again. Are you sure to make any changes? Error Code: "+a.status)}}).fail(function(a){if(a.statusText=="timeout"){alert("The request timed out after 10 seconds. Server do not respond in time. Please try again.")}else{alert("Something went wrong. Please try again. Error Code: "+a.statusText)}}).always(function(a){jQuery(".dslca-save-composer .dslca-icon").removeClass("dslc-icon-spin dslc-icon-spinner").addClass("dslc-icon-ok");jQuery("body").removeClass("dslca-saving-in-progress")})}function dslc_save_draft_composer(){if(dslcDebug)console.log("dslc_save_draft_composer");var a=jQuery("#dslca-code").val(),b=jQuery(".dslca-container").data("post-id");jQuery("body").addClass("dslca-saving-in-progress");jQuery(".dslca-save-draft-composer .dslca-icon").removeClass("dslc-icon-ok").addClass("dslc-icon-spin dslc-icon-spinner");jQuery.post(DSLCAjax.ajaxurl,{action:"dslc-ajax-save-draft-composer",dslc:"active",dslc_post_id:b,dslc_code:a},function(a){jQuery(".dslca-save-draft-composer .dslca-icon").removeClass("dslc-icon-spin dslc-icon-spinner").addClass("dslc-icon-save");if(a.status=="success"){jQuery(".dslca-save-draft-composer").fadeOut(250)}else{alert("Something went wrong, please try to save again.")}jQuery("body").removeClass("dslca-saving-in-progress")})}function dslc_generate_code(){if(dslcDebug)console.log("dslc_generate_code");var a,b,c="",d=12,e=12,f=0,g=0,h,i,j,k,l,m="";jQuery("#dslc-main .dslc-modules-area",DSLC.Editor.frame).each(function(){if(jQuery(".dslc-module-front",this).length){jQuery(this).removeClass("dslc-modules-area-empty").addClass("dslc-modules-area-not-empty");jQuery(".dslca-no-content",this).hide()}else{jQuery(this).removeClass("dslc-modules-area-not-empty").addClass("dslc-modules-area-empty");jQuery(".dslca-no-content:not(:visible)",this).show().css({"-webkit-animation-name":"dslcBounceIn","-moz-animation-name":"dslcBounceIn","animation-name":"dslcBounceIn","animation-duration":"0.6s","-webkit-animation-duration":"0.6s",padding:0}).animate({padding:"35px 0"},300)}});jQuery("#dslc-main .dslc-modules-section",DSLC.Editor.frame).each(function(){if(jQuery(".dslc-modules-area",this).length){jQuery(this).removeClass("dslc-modules-section-empty").addClass("dslc-modules-section-not-empty")}else{jQuery(this).removeClass("dslc-modules-section-not-empty").addClass("dslc-modules-section-empty")}jQuery(".dslc-modules-area.dslc-last-col, .dslc-modules-area.dslc-first-col",this).removeClass("dslc-last-col dslc-first-col");jQuery(".dslc-module-front.dslc-last-col, .dslc-module-front.dslc-first-col",this).removeClass("dslc-last-col dslc-first-col");g=0;l=jQuery(this);m="";jQuery(".dslca-modules-section-settings input",l).each(function(){m=m+jQuery(this).data("id")+'="'+jQuery(this).val()+'" '});c=c+"[dslc_modules_section "+m+"] ";jQuery(".dslc-modules-area",l).each(function(){f=0;i=jQuery(this);h=parseInt(i.data("size"));j="no";k="no";g+=h;if(g==e){jQuery(this).addClass("dslc-last-col").next(".dslc-modules-area").addClass("dslc-first-col");g=0;j="yes"}else if(g>e){jQuery(this).removeClass("dslc-last-col").addClass("dslc-first-col");g=h;k="yes"}if(g==h){k="yes"}c=c+'[dslc_modules_area last="'+j+'" first="'+k+'" size="'+h+'"] ';jQuery(".dslc-module-front",i).each(function(){b=parseInt(jQuery(this).data("dslc-module-size"));var e="no";var g="no";f+=b;if(f==d){jQuery(this).addClass("dslc-last-col");jQuery(this).next(".dslc-module-front").addClass("dslc-first-col");f=0;e="yes"}else if(f>d){jQuery(this).removeClass("dslc-last-col").addClass("dslc-first-col");f=b;g="yes"}if(f==d){g="yes"}a=jQuery(this).find(".dslca-module-code").val();c=c+'[dslc_module last="'+e+'"]'+a+"[/dslc_module] "});c=c+"[/dslc_modules_area] "});c=c+"[/dslc_modules_section] "});jQuery("#dslca-code").val(c);jQuery("#dslca-export-code").val(c)}function dslc_generate_section_code(a){if(dslcDebug)console.log("dslc_generate_section_code");var b,c,d="",e=12,f=12,g=0,h=0,i,j,k,l,m,n="";h=0;var m=a;jQuery(".dslca-modules-section-settings input",m).each(function(){n=n+jQuery(this).data("id")+'="'+jQuery(this).val()+'" '});d=d+"[dslc_modules_section "+n+"] ";jQuery(".dslc-modules-area",m).each(function(){j=jQuery(this);i=parseInt(j.data("size"));k="no";l="no";h+=i;if(h==f){jQuery(this).addClass("dslc-last-col").next(".dslc-modules-area").addClass("dslc-first-col");h=0;k="yes"}else if(h>f){jQuery(this).removeClass("dslc-last-col").addClass("dslc-first-col");h=i;l="yes"}if(h==i){l="yes"}d=d+'[dslc_modules_area last="'+k+'" first="'+l+'" size="'+i+'"] ';jQuery(".dslc-module-front",j).each(function(){c=parseInt(jQuery(this).data("dslc-module-size"));g+=c;if(g==i){jQuery(this).addClass("dslc-last-col").next(".dslc-module-front").addClass("dslc-first-col");g=0}b=jQuery(this).find(".dslca-module-code").val();d=d+"[dslc_module]"+b+"[/dslc_module] "});d=d+"[/dslc_modules_area] "});d=d+"[/dslc_modules_section] ";return d}jQuery(document).ready(function(a){a(document).on("click",".dslca-save-composer-hook",function(){if(!a("body").hasClass("dslca-module-saving-in-progress")&&!a("body").hasClass("dslca-saving-in-progress")){dslc_save_composer()}});a(document).on("click",".dslca-save-draft-composer-hook",function(){if(!a("body").hasClass("dslca-module-saving-in-progress")&&!a("body").hasClass("dslca-saving-in-progress")){dslc_save_draft_composer()}})});function dslca_gen_content_for_search(){if(dslcDebug)console.log("dslca_gen_content_for_search");var a=document.getElementById("dslca-content-for-search");if(null===a){return}var b=a.value;var c="";var d=DSLC.Editor.frameContext.document.querySelectorAll("#dslc-main .dslc-module-front [data-exportable-content]");if(undefined!==d){Array.prototype.forEach.call(d,function(a,b){var d;if(a.getAttribute("data-exportable-content")!==""){var e=a.getAttribute("data-exportable-content");d="<"+e+">"+a.innerHTML+"</"+e+">"}else{d=a.innerHTML}if(d!==null){c+=d.replace(/\s+/g," ").trim()+"\n"}})}a.value=c;if(b!==c){dslc_show_publish_button()}}"use strict";var dslcRegularFontsArray=DSLCFonts.regular;var dslcGoogleFontsArray=DSLCFonts.google;var dslcAllFontsArray=dslcRegularFontsArray.concat(dslcGoogleFontsArray);var dslcIconsCurrentSet=DSLCIcons.fontawesome;var dslcDebug=false;var DSLC={Production:{}};DSLC.Editor={flags:{generate_code_after_row_changed:true},postponed_actions_queue:{},add_postponed_action:function(a){if(a===undefined){return}if(isNaN(this.postponed_actions_queue[a])){this.postponed_actions_queue[a]=0}this.postponed_actions_queue[a]+=1},release_postponed_actions:function(){jQuery.each(this.postponed_actions_queue,function(a,b){if(1<b){DSLC.Editor.postponed_actions_queue[a]-=1}else if(1==b){window[a]();DSLC.Editor.postponed_actions_queue[a]-=1}})}};"use strict";DSLC.Editor.CModalWindow=function(a){if(typeof a!="object")return false;var b='<div class="dslca-prompt-modal dslca-prompt-modal-active">'+'<div class="dslca-prompt-modal-content"><div class="dslca-prompt-modal-msg">'+'<span class="dslca-prompt-modal-title">'+a.title+"</span>"+'<span class="dslca-prompt-modal-descr">'+a.content+"</span></div>";if(a.confirm||a.cancel){var c='<div class="dslca-prompt-modal-actions">'+'<a href="#" class="dslca-prompt-modal-confirm-hook"><span class="dslc-icon dslc-icon-ok">'+"</span>"+(a.confirm_title?a.confirm_title:"Confirm")+'</a><span class="dslca-prompt-modal-cancel-hook"><span class="dslc-icon dslc-icon-remove">'+"</span>"+(a.cancel_title?a.cancel_title:"Cancel")+"</span></div>"}else{var c='<div class="dslca-prompt-modal-actions">'+'<a href="#" class="dslca-prompt-modal-confirm-hook"><span class="dslc-icon dslc-icon-ok">'+"</span>"+a.ok_title?a.ok_title:"OK"+"</a></div>"}b+=c+"</div>";b=jQuery(b);if(typeof a.confirm!="function")a.confirm=function(){};if(typeof a.cancel!="function")a.cancel=function(){};b.find(".dslca-prompt-modal-confirm-hook").click(function(c){c.stopPropagation();b.find(".dslca-prompt-modal-content").animate({top:"55%"},400);b.animate({opacity:0},400,function(){a.confirm();jQuery(this).remove()});return false});b.find(".dslca-prompt-modal-cancel-hook").click(function(c){c.stopPropagation();b.find(".dslca-prompt-modal-content").animate({top:"55%"},400);b.animate({opacity:0},400,function(){jQuery(this).remove();a.cancel()});return false});b.hide();jQuery("body").append(b);b.css({opacity:0}).show().animate({opacity:1},400);b.find(".dslca-prompt-modal-content").css({top:"55%"}).animate({top:"50%"},400)};function dslc_show_modal(a,b){if(dslcDebug)console.log("dslc_show_modal");dslc_hide_modal("",jQuery(".dslca-modal:visible"));var b=jQuery(b);var c=jQuery(".dslca-container").height();b.outerHide({clbk:function(){dslc_hide_modal("",jQuery(".dslca-modal:visible"))}});var d=jQuery(a).position(),e=b.outerWidth()/2-a.outerWidth()/2,f=d.left-e;b.css({left:f}).show();jQuery(".dslca-prompt-modal-custom").insertAfter(b);jQuery(".dslca-prompt-modal-custom").length>0&&jQuery(".dslca-prompt-modal-custom").fadeIn();b.addClass("dslca-modal-open");b.css({}).fadeIn(600)}function dslc_hide_modal(a,b){if(dslcDebug)console.log("dslc_hide_modal");var b=jQuery(b);b.outerHide("destroy");b.hide();jQuery(".dslca-prompt-modal-custom").length>0&&jQuery(".dslca-prompt-modal-custom").fadeOut();b.removeClass("dslca-modal-open")}jQuery(document).ready(function(a){a(document).on("click",".dslca-open-modal-hook",function(){var a=jQuery(this).data("modal");dslc_show_modal(jQuery(this),a)});jQuery(document).on("click",".dslca-close-modal-hook",function(){if(!jQuery(this).hasClass("dslca-action-disabled")){var a=jQuery(this).data("modal");dslc_hide_modal(jQuery(this),a)}})});function dslc_js_confirm(a,b,c){if(dslcDebug)console.log("dslc_js_confirm");jQuery(".dslca-prompt-modal").addClass("dslca-prompt-modal-active");jQuery(".dslca-prompt-modal").data("id",a);jQuery(".dslca-prompt-modal").data("target",c);jQuery(".dslca-prompt-modal-msg").html(b);jQuery(".dslca-prompt-modal").css({opacity:0}).show().animate({opacity:1},400);jQuery(".dslca-prompt-modal-content").css({top:"55%"}).animate({top:"50%"},400)}function dslc_js_confirm_close(){if(dslcDebug)console.log("dslc_js_confirm_close");jQuery(".dslca-prompt-modal").removeClass("dslca-prompt-modal-active");jQuery(".dslca-prompt-modal").animate({opacity:0},400,function(){jQuery(this).hide();jQuery(".dslca-prompt-modal-cancel-hook").show();jQuery(".dslca-prompt-modal-confirm-hook").html('<span class="dslc-icon dslc-icon-ok"></span>'+DSLCString.str_confirm)});jQuery(".dslca-prompt-modal-content").animate({top:"55%"},400)}jQuery(document).ready(function(a){a(document).on("click",".dslca-prompt-modal-cancel-hook",function(a){a.preventDefault();var b=jQuery(".dslca-prompt-modal").data("id");var c=jQuery(".dslca-prompt-modal").data("target");if(b=="edit_in_progress"){dslc_module_options_cancel_changes(function(){c.trigger("click")})}else if(b=="delete_module"){}dslc_js_confirm_close();jQuery(".dslca-prompt-modal").data("id","")});a(document).on("click",".dslca-prompt-modal-confirm-hook",function(b){b.preventDefault();var c=jQuery(".dslca-prompt-modal").data("id");var d=jQuery(".dslca-prompt-modal").data("target");var e=true;if(c=="edit_in_progress"){dslc_module_options_confirm_changes(function(){d.trigger("click")})}else if(c=="disable_lc"){window.location=d}else if("delete_module"===c){var f=d.closest(".dslc-module-front");dslc_delete_module(f)}else if("delete_modules_area"===c){var g=d.closest(".dslc-modules-area");var h=g.closest(".dslc-modules-section-inner");dslc_modules_area_delete(g)}else if(c=="delete_modules_section"){dslc_row_delete(d.closest(".dslc-modules-section"))}else if(c=="export_modules_section"){}else if(c=="import_modules_section"){dslc_row_import(a(".dslca-prompt-modal textarea").val());a(".dslca-prompt-modal-confirm-hook span").css({opacity:0});a(".dslca-prompt-modal-confirm-hook .dslca-loading").show();e=false}if(e)dslc_js_confirm_close();jQuery(".dslca-prompt-modal").data("id","")});a(window).on("keydown",function(b){if(b.which==13){if(a(".dslca-prompt-modal-active").length){a(".dslca-prompt-modal-confirm-hook").trigger("click")}}else if(b.which==27){if(a(".dslca-prompt-modal-active").length){a(".dslca-prompt-modal-cancel-hook").trigger("click")}}})});"use strict";jQuery(document).on("editorFrameLoaded",function(){var a=jQuery;DSLC.Editor.frame.on("click",".dslca-copy-module-hook",function(b){b.preventDefault();if(!a(this).hasClass("dslca-action-disabled")){dslc_module_copy(a(this).closest(".dslc-module-front"))}});DSLC.Editor.frame.on("click",".dslca-delete-module-hook",function(b){b.preventDefault();var c=this;if(!a(this).hasClass("dslca-action-disabled")){DSLC.Editor.CModalWindow({title:DSLCString.str_del_module_title,content:DSLCString.str_del_module_descr,confirm:function(){var a=jQuery(c).closest(".dslc-module-front");dslc_delete_module(a)}})}});DSLC.Editor.frame.on("click",".dslca-module-edit-hook, .dslc-module-front > div:not(.dslca-module-manage)",function(b){b.preventDefault();var c=jQuery(".dslca-module-being-edited",DSLC.Editor.frame).length;var d=jQuery(".dslca-modules-section-being-edited",DSLC.Editor.frame).length;if(a("body").hasClass("dslca-composer-hidden")||c>0||d>0)return false;if(dslcDebug)console.log("dslca-module-edit-hook");var e=a(this).closest(".dslc-module-front"),f=e.data("dslc-module-id");a(".dslca-module-being-edited",DSLC.Editor.frame).removeClass("dslca-module-being-edited");e.addClass("dslca-module-being-edited");dslc_module_options_show(f)});DSLC.Editor.frame.on("click",".dslca-change-width-module-hook",function(b){b.preventDefault();if(!a(this).hasClass("dslca-action-disabled")){a(".dslca-change-width-module-options",this).toggle();a(this).closest(".dslca-module-manage").toggleClass("dslca-module-manage-change-width-active")}});DSLC.Editor.frame.on("click",".dslca-change-width-module-options span",function(){dslc_module_width_set(jQuery(this).closest(".dslc-module-front"),jQuery(this).data("size"))});DSLC.Editor.frame.on("click",".dslca-wysiwyg-actions-edit-hook",function(){var a=jQuery(this).parent().siblings(".dslca-editable-content");var b=a.closest(".dslc-module-front");if(b.hasClass("dslc-module-handle-like-accordion")){dslc_accordion_generate_code(b.find(".dslc-accordion"));var c=b.find('.dslca-module-option-front[data-id="accordion_content"]').val();var d=c.split("(dslc_sep)");var e=a.closest(".dslc-accordion-item").index();var f=d[e].trim().replace(/<lctextarea/g,"<textarea").replace(/<\/lctextarea/g,"</textarea")}else if(b.hasClass("dslc-module-handle-like-tabs")){dslc_tabs_generate_code(b.find(".dslc-tabs"));var c=b.find('.dslca-module-option-front[data-id="tabs_content"]').val();var d=c.split("(dslc_sep)");var e=a.closest(".dslc-tabs-tab-content").index();var f=d[e].trim().replace(/<lctextarea/g,"<textarea").replace(/<\/lctextarea/g,"</textarea")}else{var f=b.find('.dslca-module-option-front[data-id="'+a.data("id")+'"]').val().replace(/<lctextarea/g,"<textarea").replace(/<\/lctextarea/g,"</textarea")}if(typeof tinymce!="undefined"){var g=tinymce.get("dslcawpeditor");if(jQuery("#wp-dslcawpeditor-wrap").hasClass("tmce-active")){g.setContent(f,{format:"html"})}else{jQuery("textarea#dslcawpeditor").val(f)}if(!b.hasClass("dslca-module-being-edited")){b.find(".dslca-module-edit-hook").trigger("click")}jQuery(".dslca-wp-editor").show();a.addClass("dslca-wysiwyg-active");jQuery("#dslcawpeditor_ifr, #dslcawpeditor").css({height:jQuery(".dslca-wp-editor").height()-300})}else{console.info("Live Composer: TinyMCE is undefined.")}});DSLC.Editor.frame.on("blur",".dslca-editable-content",function(){if(!jQuery("body").hasClass("dslca-composer-hidden")&&jQuery(this).data("type")=="simple"){dslc_editable_content_gen_code(jQuery(this))}}).on("paste",".dslca-editable-content",function(){if(!jQuery("body").hasClass("dslca-composer-hidden")&&jQuery(this).data("type")=="simple"){var a=jQuery(this);setTimeout(function(){if(a.data("type")=="simple"){a.html(a.text())}dslc_editable_content_gen_code(jQuery(this))},1)}}).on("focus",".dslca-editable-content",function(){if(!jQuery(this).closest(".dslc-module-front").hasClass("dslca-module-being-edited")){jQuery(this).trigger("blur")}}).on("keyup",".dslca-editable-content",function(){if(jQuery(this).data("type")=="simple"){jQuery(this).closest(".dslc-module-front").addClass("dslca-module-change-made")}})});function dslc_module_delete(a){if(dslcDebug)console.log("dslc_delete_module");a.addClass("dslca-module-being-deleted");if(a.hasClass("dslca-module-being-edited")){dslc_show_section(".dslca-modules")}setTimeout(function(){a.remove();dslc_generate_code();dslc_show_publish_button()},1e3);a.css({"-webkit-animation-name":"dslcBounceOut2","-moz-animation-name":"dslcBounceOut2","animation-name":"dslcBounceOut2","animation-duration":"0.6s","-webkit-animation-duration":"0.6s"}).animate({opacity:0},500,function(){a.css({marginBottom:0}).animate({height:0},400,"easeOutQuart")})}function dslc_module_copy(a){if(dslcDebug)console.log("dslc_copy_module");var b;jQuery.post(DSLCAjax.ajaxurl,{action:"dslc-ajax-get-new-module-id"},function(c){jQuery(".dslca-module-being-edited",DSLC.Editor.frame).removeClass("dslca-module-being-edited");b=c.output;a.clone().appendTo(a.closest(".dslc-modules-area")).css({"-webkit-animation-name":"none","-moz-animation-name":"none","animation-name":"none","animation-duration":"0","-webkit-animation-duration":"0",opacity:0}).data("module-id",b).attr("id","dslc-module-"+b).addClass("dslca-module-being-edited");dslc_module_output_altered(function(){jQuery(".dslca-module-being-edited",DSLC.Editor.frame).css({opacity:0}).removeClass("dslca-module-being-edited").animate({opacity:1},300);dslc_generate_code();dslc_show_publish_button()})})}function dslc_module_width_set(a,b){if(dslcDebug)console.log("dslc_module_width_set");var c="dslc-"+b+"-col";a.removeClass("dslc-1-col dslc-2-col dslc-3-col dslc-4-col dslc-5-col dslc-6-col dslc-7-col dslc-8-col dslc-9-col dslc-10-col dslc-11-col dslc-12-col").addClass(c).data("dslc-module-size",b);jQuery('.dslca-module-option-front[data-id="dslc_m_size"]',a).val(b);var d=a.find(".dslca-module-code").val();d=DSLC_Util.decode(d);d.dslc_m_size=b;d=DSLC_Util.encode(d);a.find(".dslca-module-code").val(d);dslc_generate_code();dslc_show_publish_button()}function dslc_module_options_show(a){if(dslcDebug)console.log("dslc_module_options_show");var b=jQuery(".dslca-module-being-edited",DSLC.Editor.frame),c=jQuery(".dslca-module-options-front textarea",b),d=jQuery(".dslca-header").data("default-section");var e={};e["action"]="dslc-ajax-display-module-options";e["dslc"]="active";e["dslc_module_id"]=a;e["dslc_post_id"]=jQuery(".dslca-container").data("data-post-id");e.dslc_url_vars=DSLC_Util.get_page_params();c.each(function(){var a=jQuery(this),b=a.data("id"),c=a.val();e[b]=c});jQuery(".dslca-wp-editor-actions").hide();jQuery(".dslca-wp-editor-notification").show();jQuery.post(DSLCAjax.ajaxurl,e,function(a){dslc_hide_publish_button();dslc_show_section(".dslca-module-edit");if(!jQuery("body").hasClass("rtl")){jQuery(".dslca-module-edit-options-inner").html(a.output)}else{jQuery(".dslca-module-edit-options-inner").html(a.output)}jQuery(".dslca-module-edit-options-tabs").html(a.output_tabs);jQuery(".dslca-header .dslca-options-filter-hook").show();if(jQuery('.dslca-module-edit-option[data-section="'+d+'"]').length){jQuery('.dslca-header .dslca-options-filter-hook[data-section="'+d+'"]').show();jQuery('.dslca-header .dslca-options-filter-hook[data-section="'+d+'"]').trigger("click")}else{jQuery(".dslca-header .dslca-options-filter-hook:first").hide();jQuery(".dslca-header .dslca-options-filter-hook:first").next(".dslca-options-filter-hook").trigger("click")}jQuery(".dslca-module-edit-actions").show();jQuery(".dslca-wp-editor-notification").hide();jQuery(".dslca-wp-editor-actions").show();jQuery(".dslca-header .dslca-go-to-section-hook").hide();jQuery(".dslca-row-edit-actions").hide();DSLC.Editor.initMediumEditor();DSLC.Editor.loadOptionsDeps();var c=jQuery(".dslca-module-options-front",b).children().clone();DSLC.Editor.moduleBackup=c})}function dslc_module_output_default(a,b){if(dslcDebug)console.log("dslc_module_output_default");jQuery.post(DSLCAjax.ajaxurl,{action:"dslc-ajax-add-module",dslc:"active",dslc_module_id:a,dslc_post_id:jQuery(".dslca-container").data("post-id"),dslc_url_vars:DSLC_Util.get_page_params()},function(a){b(a)})}function dslc_module_output_altered(a){if(dslcDebug)console.log("dslc_module_output_altered");a=typeof a!=="undefined"?a:false;var b=jQuery(".dslca-module-being-edited",DSLC.Editor.frame),c=b.data("dslc-module-id"),d=jQuery(".dslca-module-options-front textarea",b),e=b.data("module-id");var f={};f["action"]="dslc-ajax-add-module";f["dslc"]="active";f["dslc_module_id"]=c;f["dslc_module_instance_id"]=e;f["dslc_post_id"]=jQuery(".dslca-container").data("post-id");if(b.hasClass("dslca-preload-preset"))f["dslc_preload_preset"]="enabled";else f["dslc_preload_preset"]="disabled";b.removeClass("dslca-preload-preset");d.each(function(){var a=jQuery(this);var b=a.data("id");var c=a.val();f[b]=c});f.dslc_url_vars=DSLC_Util.get_page_params();jQuery.post(DSLCAjax.ajaxurl,f,function(c){DSLC.Editor.clearUtils();b.after(c.output).next().addClass("dslca-module-being-edited");b.remove();DSLC.Editor.frameContext.dslc_carousel();DSLC.Editor.frameContext.dslc_masonry(jQuery(".dslca-module-being-edited",DSLC.Editor.frame));jQuery(".dslca-module-being-edited img",DSLC.Editor.frame).load(function(){DSLC.Editor.frameContext.dslc_masonry(jQuery(".dslca-module-being-edited",DSLC.Editor.frame))});DSLC.Editor.frameContext.dslc_tabs();DSLC.Editor.frameContext.dslc_init_accordion();if(a){a(c)}})}function dslc_module_output_reload(a,b){if(dslcDebug)console.log("dslc_module_output_reload");b=typeof b!=="undefined"?b:false;var c=a.data("dslc-module-id"),d=jQuery(".dslca-module-options-front textarea",a),e=a.data("module-id");var f={};f["action"]="dslc-ajax-add-module";f["dslc"]="active";f["dslc_module_id"]=c;f["dslc_module_instance_id"]=e;f["dslc_post_id"]=jQuery(".dslca-container").data("post-id");f["dslc_preload_preset"]="enabled";a.removeClass("dslca-preload-preset");d.each(function(){var a=jQuery(this);var b=a.data("id");var c=a.val();f[b]=c});a.append('<div class="dslca-module-reloading"><span class="dslca-icon dslc-icon-spin dslc-icon-refresh"></span></div>');jQuery.post(DSLCAjax.ajaxurl,f,function(c){a.after(c.output).next().addClass("dslca-module-being-edited");a.remove();dslc_generate_code();dslc_show_publish_button();DSLC.Editor.frameContext.dslc_carousel();DSLC.Editor.frameContext.dslc_masonry(jQuery(".dslca-module-being-edited",DSLC.Editor.frame));jQuery(".dslca-module-being-edited img",DSLC.Editor.frame).load(function(){DSLC.Editor.frameContext.dslc_masonry(jQuery(".dslca-module-being-edited",DSLC.Editor.frame))});DSLC.Editor.frameContext.dslc_tabs();DSLC.Editor.frameContext.dslc_init_accordion();if(b){b(c)}jQuery(".dslca-module-being-edited",DSLC.Editor.frame).removeClass("dslca-module-being-edited")})}function dslc_delete_module(a){dslc_module_delete(a)}function dslc_copy_module(a){dslc_module_copy(a)}function dslc_display_module_options(a){dslc_module_options_show(a)}function dslc_get_module_output(a,b){dslc_module_output_default(a,b)}function dslc_preview_change(a){dslc_module_output_altered(a)}function dslc_reload_module(a,b){dslc_module_output_reload(a,b)}"use strict";DSLC.Editor.CModuleArea=function(a){var b=this;this.section=a.closest(".dslc-modules-section");this.elem=a;this.observer=new mqMutationObserver(a,function(){var c=b.elem.classList;if(a.querySelectorAll(".dslc-module-front").length==0){c.add("dslc-modules-area-empty");c.remove("dslc-modules-area-not-empty")}else{c.remove("dslc-modules-area-empty");c.add("dslc-modules-area-not-empty")}},{childList:true});this.sortable=Sortable.create(a,{group:"modules",animation:150,handle:".dslca-move-module-hook",draggable:".dslc-module-front",chosenClass:"dslca-module-dragging",scroll:true,scrollSensitivity:150,scrollSpeed:15,setData:function(a,b){a.setData("text/html",b.innerHTML)},onStart:function(a){a.oldIndex;jQuery("body").removeClass("dslca-drag-not-in-progress").addClass("dslca-drag-in-progress")},onEnd:function(a){a.oldIndex;a.newIndex;a.preventDefault();dslc_generate_code();jQuery("body").removeClass("dslca-drag-in-progress").addClass("dslca-drag-not-in-progress")},onAdd:function(a){var c=a.item;a.from;if(jQuery(c).data("id")=="DSLC_M_A"){dslc_modules_area_add(jQuery(b.section).find(".dslc-modules-section-wrapper .dslc-modules-section-inner"));c.remove()}},onUpdate:function(a){var b=a.item;dslc_show_publish_button()},onSort:function(a){},onRemove:function(a){},onFilter:function(a){var b=a.item},onMove:function(a){a.dragged;a.draggedRect;a.related;a.relatedRect;if(jQuery(".dslc-modules-area-empty").find(".dslc-module-front").length>0){jQuery(this).removeClass("dslc-modules-area-empty").addClass("dslc-modules-area-not-empty");jQuery(".dslca-no-content:not(:visible)",this).show().css({"-webkit-animation-name":"dslcBounceIn","-moz-animation-name":"dslcBounceIn","animation-name":"dslcBounceIn","animation-duration":"0.6s","-webkit-animation-duration":"0.6s",padding:0}).animate({padding:"35px 0"},300,function(){})}}});jQuery(a).attr("data-jsinit","initialized")};"use strict";jQuery(document).on("editorFrameLoaded",function(){function a(){var a=jQuery(".dslc-modules-area",DSLC.Editor.frame);jQuery(a).each(function(a,b){new DSLC.Editor.CModuleArea(b)})}if(!jQuery("#dslc-main .dslc-modules-section",DSLC.Editor.frame).length&&!jQuery("#dslca-tut-page",DSLC.Editor.frame).length){dslc_row_add().then(function(b){a()})}else{a()}DSLC.Editor.frame.on("click",".dslca-copy-modules-area-hook",function(a){a.preventDefault();if(!jQuery(this).hasClass("dslca-action-disabled")){var b=jQuery(this).closest(".dslc-modules-area");dslc_copy_modules_area(b)}});DSLC.Editor.frame.on("click",".dslca-delete-modules-area-hook",function(a){a.preventDefault();if(!jQuery(this).hasClass("dslca-action-disabled")){var b=jQuery(this).closest(".dslc-modules-area").hasClass("dslc-modules-area-empty");if(!b){dslc_js_confirm("delete_modules_area",'<span class="dslca-prompt-modal-title">'+DSLCString.str_del_area_title+'</span><span class="dslca-prompt-modal-descr">'+DSLCString.str_del_area_descr+"</span>",jQuery(this))}else{var c=jQuery(this).closest(".dslc-modules-area");dslc_delete_modules_area(c)}}});DSLC.Editor.frame.on("click",".dslca-change-width-modules-area-options span",function(){if(!jQuery(this).hasClass("dslca-action-disabled")){dslc_modules_area_width_set(jQuery(this).closest(".dslc-modules-area"),jQuery(this).data("size"))}});DSLC.Editor.frame.on("click",".dslca-change-width-modules-area-hook",function(a){a.preventDefault();if(!jQuery(this).hasClass("dslca-action-disabled")){if(jQuery(".dslca-change-width-modules-area-options:visible",this).length){jQuery(".dslca-change-width-modules-area-options",this).hide()}else{jQuery(".dslca-change-width-modules-area-options .dslca-active-width",DSLC.Editor.frame).removeClass("dslca-active-width");var b=jQuery(this).closest(".dslc-modules-area").data("size");jQuery('.dslca-change-width-modules-area-options span[data-size="'+b+'"]',DSLC.Editor.frame).addClass("dslca-active-width");jQuery(".dslca-change-width-modules-area-options",this).show()}}});DSLC.Editor.frame.on("click",".dslca-add-modules-area-hook",function(a){a.preventDefault();dslc_modules_area_add(jQuery(this).closest(".dslc-modules-section").find(".dslc-modules-section-inner"))})});function dslc_modules_area_add(a){if(dslcDebug)console.log("dslc_add_modules_area");var b='<div class="dslc-modules-area dslc-col dslc-12-col dslc-modules-area-empty " data-size="12">'+'<div class="dslca-modules-area-manage"> <div class="dslca-modules-area-manage-inner">'+'<span class="dslca-manage-action dslca-copy-modules-area-hook" title="Duplicate" ><span class="dslca-icon dslc-icon-copy">'+'</span></span> <span class="dslca-manage-action dslca-move-modules-area-hook" title="Drag to move" >'+'<span class="dslca-icon dslc-icon-move"></span></span>'+'<span class="dslca-manage-action dslca-change-width-modules-area-hook" title="Change width" >'+'<span class="dslca-icon dslc-icon-columns"></span> <div class="dslca-change-width-modules-area-options">'+'<span>Container Width</span><span data-size="1">1/12</span><span data-size="2">2/12</span>'+'<span data-size="3">3/12</span><span data-size="4">4/12</span> <span data-size="5">5/12</span><span data-size="6">6/12</span>'+'<span data-size="7">7/12</span><span data-size="8">8/12</span> <span data-size="9">9/12</span><span data-size="10">10/12</span>'+'<span data-size="11">11/12</span><span data-size="12">12/12</span> </div> </span>'+'<span class="dslca-manage-action dslca-delete-modules-area-hook" title="Delete" ><span class="dslca-icon dslc-icon-remove"></span></span> </div> </div>'+"</div>";jQuery(b).appendTo(a).css({height:0}).animate({height:99},300,function(){jQuery(this).css({height:"auto"})}).addClass("dslca-init-animation");var c=jQuery(".dslc-modules-area-empty",DSLC.Editor.frame);jQuery(c).each(function(a,b){new DSLC.Editor.CModuleArea(b)});dslc_drag_and_drop();dslc_generate_code();dslc_show_publish_button()}function dslc_modules_area_delete(a){if(dslcDebug)console.log("dslc_delete_modules_area");var b=a.closest(".dslc-modules-section").find(".dslc-modules-section-inner"),c=false;a.addClass("dslca-modules-area-being-deleted");if(b.find(".dslc-modules-area").length<2){c=true}if(a.find(".dslca-module-being-edited").length){jQuery(".dslca-header .dslca-options-filter-hook",DSLC.Editor.frame).hide();jQuery(".dslca-module-edit-actions",DSLC.Editor.frame).hide();jQuery(".dslca-header .dslca-go-to-section-hook",DSLC.Editor.frame).show();
dslc_show_section(".dslca-modules")}setTimeout(function(){if(c){var d=a.closest(".dslc-modules-section-inner");if(2<=a.closest("#dslc-main").find(".dslc-modules-section").length){dslc_row_delete(a.closest(".dslc-modules-section"))}else{a.remove();dslc_modules_area_add(b)}}a.remove();dslc_generate_code();dslc_show_publish_button()},900);a.css({"-webkit-animation-name":"dslcBounceOut","-moz-animation-name":"dslcBounceOut","animation-name":"dslcBounceOut","animation-duration":"0.6s","-webkit-animation-duration":"0.6s",overflow:"hidden"}).animate({opacity:0},600).animate({height:0,marginBottom:0},300,function(){a.remove();dslc_generate_code();dslc_show_publish_button()})}function dslc_modules_area_copy(a){if(dslcDebug)console.log("dslc_copy_modules_area");var b,c=a.closest(".dslc-modules-section").find(".dslc-modules-section-inner");var d=a.clone().appendTo(c);new DSLC.Editor.CModuleArea(d[0]);d.find(".dslca-modules-area-manage").trigger("mouseleave");d.data("size",a.data("size")).find(".dslc-module-front").css({"-webkit-animation-name":"none","-moz-animation-name":"none","animation-name":"none","animation-duration":"0","-webkit-animation-duration":"0",opacity:0}).each(function(){var a=jQuery(this);jQuery.ajax({type:"POST",method:"POST",url:DSLCAjax.ajaxurl,data:{action:"dslc-ajax-get-new-module-id"},async:false}).done(function(c){jQuery(".dslca-module-being-edited",DSLC.Editor.frame).removeClass("dslca-module-being-edited");b=c.output;a.data("module-id",b).attr("id","dslc-module-"+b).addClass("dslca-module-being-edited");dslc_module_output_altered(function(){jQuery(".dslca-module-being-edited",DSLC.Editor.frame).removeClass("dslca-module-being-edited").animate({opacity:1},300);dslc_generate_code()})})});dslc_drag_and_drop();dslc_show_publish_button()}function dslc_modules_area_width_set(a,b){if(dslcDebug)console.log("dslc_modules_area_width_set");var c="dslc-"+b+"-col";a.removeClass("dslc-1-col dslc-2-col dslc-3-col dslc-4-col dslc-5-col dslc-6-col dslc-7-col dslc-8-col dslc-9-col dslc-10-col dslc-11-col dslc-12-col").addClass(c).data("size",b);dslc_generate_code();dslc_show_publish_button();DSLC.Editor.frameContext.dslc_masonry()}DSLC.Editor.moduleareas_init=function(){jQuery("#dslc-main .dslc-modules-area",DSLC.Editor.frame).each(function(){if(jQuery(this).data("jsinit")!=="initialized"){new DSLC.Editor.CModuleArea(this)}})};function dslc_add_modules_area(a){dslc_modules_area_add(a)}function dslc_delete_modules_area(a){dslc_modules_area_delete(a)}function dslc_copy_modules_area(a){dslc_modules_area_copy(a)}(function(a,b,c){function d(a,b,c){var d=[];for(var e=0;e<a.length;e++){var f=a[e];if(f){var g=tinycolor(f);var h=g.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";h+=tinycolor.equals(b,f)?" sp-thumb-active":"";var i=r?"background-color:"+g.toRgbString():"filter:"+g.toFilter();d.push('<span title="'+g.toRgbString()+'" data-color="'+g.toRgbString()+'" class="'+h+'"><span class="sp-thumb-inner" style="'+i+';" /></span>')}else{var j="sp-clear-display";d.push('<span title="No Color Selected" data-color="" style="background-color:transparent;" class="'+j+'"></span>')}}return"<div class='sp-cf "+c+"'>"+d.join("")+"</div>"}function e(){for(var a=0;a<p.length;a++){if(p[a]){p[a].hide()}}}function f(a,c){var d=b.extend({},o,a);d.callbacks={move:k(d.move,c),change:k(d.change,c),show:k(d.show,c),hide:k(d.hide,c),beforeShow:k(d.beforeShow,c)};return d}function g(g,i){function k(){if(R.showPaletteOnly){R.showPalette=true}if(R.palette){ja=R.palette.slice(0);ka=b.isArray(ja[0])?ja:[ja]}ta.toggleClass("sp-flat",S);ta.toggleClass("sp-input-disabled",!R.showInput);ta.toggleClass("sp-alpha-enabled",R.showAlpha);ta.toggleClass("sp-clear-enabled",Ta);ta.toggleClass("sp-buttons-disabled",!R.showButtons);ta.toggleClass("sp-palette-disabled",!R.showPalette);ta.toggleClass("sp-palette-only",R.showPaletteOnly);ta.toggleClass("sp-initial-disabled",!R.showInitial);ta.addClass(R.className);M()}function n(){function c(a){if(a.data&&a.data.ignore){F(b(this).data("color"));I()}else{F(b(this).data("color"));L(true);I();D()}return false}if(q){ta.find("*:not(input)").attr("unselectable","on")}k();if(Ja){ra.after(Ka).hide()}if(!Ta){Fa.hide()}if(S){ra.after(ta).hide()}else{var d=R.appendTo==="parent"?ra.parent():b(R.appendTo);if(d.length!==1){d=b("body")}d.append(ta)}if(U&&a.localStorage){try{var e=a.localStorage[U].split(",#");if(e.length>1){delete a.localStorage[U];b.each(e,function(a,b){o(b)})}}catch(f){}try{la=a.localStorage[U].split(";")}catch(f){}}La.bind("click.spectrum touchstart.spectrum",function(a){if(!sa){B()}a.stopPropagation();if(!b(a.target).is("input")){a.preventDefault()}});if(ra.is(":disabled")||R.disabled===true){Q()}ta.click(j);Ba.change(A);Ba.bind("paste",function(){setTimeout(A,1)});Ba.keydown(function(a){if(a.keyCode==13){A()}});Ea.text(R.cancelText);Ea.bind("click.spectrum",function(a){a.stopPropagation();a.preventDefault();D("cancel")});Fa.attr("title",R.clearText);Fa.bind("click.spectrum",function(a){a.stopPropagation();a.preventDefault();Sa=true;I();if(S){L(true)}});Ga.text(R.chooseText);Ga.bind("click.spectrum",function(a){a.stopPropagation();a.preventDefault();if(H()){L(true);D()}});l(za,function(a,b,c){ia=a/ca;Sa=false;if(c.shiftKey){ia=Math.round(ia*10)/10}I()},y,z);l(wa,function(a,b){fa=parseFloat(b/aa);Sa=false;if(!R.showAlpha){ia=1}I()},y,z);l(ua,function(a,b,c){if(!c.shiftKey){oa=null}else if(!oa){var d=ga*Z;var e=$-ha*$;var f=Math.abs(a-d)>Math.abs(b-e);oa=f?"x":"y"}var g=!oa||oa==="x";var h=!oa||oa==="y";if(g){ga=parseFloat(a/Z)}if(h){ha=parseFloat(($-b)/$)}Sa=false;if(!R.showAlpha){ia=1}I()},y,z);if(!!Na){F(Na);J();Qa=Pa||tinycolor(Na).format;o(Na)}else{J()}if(S){C()}var g=q?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Ca.delegate(".sp-thumb-el",g,c);Da.delegate(".sp-thumb-el:nth-child(1)",g,{ignore:true},c)}function o(c){if(T){var d=tinycolor(c).toRgbString();if(b.inArray(d,la)===-1){la.push(d);while(la.length>ma){la.shift()}}if(U&&a.localStorage){try{a.localStorage[U]=la.join(";")}catch(e){}}}}function v(){var a=[];var b=la;var c={};var d;if(R.showPalette){for(var e=0;e<ka.length;e++){for(var f=0;f<ka[e].length;f++){d=tinycolor(ka[e][f]).toRgbString();c[d]=true}}for(e=0;e<b.length;e++){d=tinycolor(b[e]).toRgbString();if(!c.hasOwnProperty(d)){a.push(b[e]);c[d]=true}}}return a.reverse().slice(0,R.maxSelectionSize)}function w(){var a=G();var c=b.map(ka,function(b,c){return d(b,a,"sp-palette-row sp-palette-row-"+c)});if(la){c.push(d(v(),a,"sp-palette-row sp-palette-row-selection"))}Ca.html(c.join(""))}function x(){if(R.showInitial){var a=Oa;var b=G();Da.html(d([a,b],b,"sp-palette-row-initial"))}}function y(){if($<=0||Z<=0||aa<=0){M()}ta.addClass(na);oa=null;ra.trigger("dragstart.spectrum",[G()])}function z(){ta.removeClass(na);ra.trigger("dragstop.spectrum",[G()])}function A(){var a=Ba.val();if((a===null||a==="")&&Ta){F(null);L(true)}else{var b=tinycolor(a);if(b.ok){F(b);L(true)}else{Ba.addClass("sp-validation-error")}}}function B(){if(Y){D()}else{C()}}function C(){var c=b.Event("beforeShow.spectrum");if(Y){M();return}ra.trigger(c,[G()]);if(W.beforeShow(G())===false||c.isDefaultPrevented()){return}e();Y=true;b(pa).bind("click.spectrum",D);b(a).bind("resize.spectrum",X);Ka.addClass("sp-active");ta.removeClass("sp-hidden");M();J();Oa=G();x();W.show(Oa);ra.trigger("show.spectrum",[Oa])}function D(c){if(c&&c.type=="click"&&c.button==2){return}if(!Y||S){return}Y=false;b(pa).unbind("click.spectrum",D);b(a).unbind("resize.spectrum",X);Ka.removeClass("sp-active");ta.addClass("sp-hidden");var d=!tinycolor.equals(G(),Oa);if(d){if(Ra&&c!=="cancel"){L(true)}else{E()}}W.hide(G());ra.trigger("hide.spectrum",[G()])}function E(){F(Oa,true);W.change(Oa);ra.trigger("change",[Oa])}function F(a,b){if(tinycolor.equals(a,G())){J();return}var c,d;if(!a&&Ta){Sa=true}else{Sa=false;c=tinycolor(a);d=c.toHsv();fa=d.h%360/360;ga=d.s;ha=d.v;ia=d.a}J();if(c&&c.ok&&!b){Qa=Pa||c.format}}function G(a){a=a||{};if(Ta&&Sa){return null}return tinycolor.fromRatio({h:fa,s:ga,v:ha,a:Math.round(ia*100)/100},{format:a.format||Qa})}function H(){return!Ba.hasClass("sp-validation-error")}function I(){J();W.move(G());ra.trigger("move.spectrum",[G()])}function J(){Ba.removeClass("sp-validation-error");K();var a=tinycolor.fromRatio({h:fa,s:1,v:1});ua.css("background-color",a.toHexString());var b=Qa;if(ia<1&&!(ia===0&&b==="name")){if(b==="hex"||b==="hex3"||b==="hex6"||b==="name"){b="rgb"}}var c=G({format:b}),d="";Ma.removeClass("sp-clear-display");Ma.css("background-color","transparent");if(!c&&Ta){Ma.addClass("sp-clear-display")}else{var e=c.toHexString(),f=c.toRgbString();if(r||c.alpha===1){Ma.css("background-color",f)}else{Ma.css("background-color","transparent");Ma.css("filter",c.toFilter())}if(R.showAlpha){var g=c.toRgb();g.a=0;var h=tinycolor(g).toRgbString();var i="linear-gradient(left, "+h+", "+e+")";if(q){ya.css("filter",tinycolor(h).toFilter({gradientType:1},e))}else{ya.css("background","-webkit-"+i);ya.css("background","-moz-"+i);ya.css("background","-ms-"+i);ya.css("background",i)}}d=c.toString(b)}if(R.showInput){Ba.val(d)}if(R.showPalette){w()}x()}function K(){var a=ga;var b=ha;if(Ta&&Sa){Aa.hide();xa.hide();va.hide()}else{Aa.show();xa.show();va.show();var c=a*Z;var d=$-b*$;c=Math.max(-_,Math.min(Z-_,c-_));d=Math.max(-_,Math.min($-_,d-_));va.css({top:d+"px",left:c+"px"});var e=ia*ca;Aa.css({left:e-da/2+"px"});var f=fa*aa;xa.css({top:f-ea+"px"})}}function L(a){var b=G(),c="",d=!tinycolor.equals(b,Oa);if(b){c=b.toString(Qa);o(b)}if(Ha){ra.val(c)}Oa=b;if(a&&d){W.change(b);ra.trigger("change",[b])}}function M(){Z=ua.width();$=ua.height();_=va.height();ba=wa.width();aa=wa.height();ea=xa.height();ca=za.width();da=Aa.width();if(!S){ta.css("position","absolute");ta.offset(h(ta,La))}K();if(R.showPalette){w()}ra.trigger("reflow.spectrum")}function N(){ra.show();La.unbind("click.spectrum touchstart.spectrum");ta.remove();Ka.remove();p[Ua.id]=null}function O(a,d){if(a===c){return b.extend({},R)}if(d===c){return R[a]}R[a]=d;k()}function P(){sa=false;ra.attr("disabled",false);La.removeClass("sp-disabled")}function Q(){D();sa=true;ra.attr("disabled",true);La.addClass("sp-disabled")}var R=f(i,g),S=R.flat,T=R.showSelectionPalette,U=R.localStorageKey,V=R.theme,W=R.callbacks,X=m(M,10),Y=false,Z=0,$=0,_=0,aa=0,ba=0,ca=0,da=0,ea=0,fa=0,ga=0,ha=0,ia=1,ja=[],ka=[],la=R.selectionPalette.slice(0),ma=R.maxSelectionSize,na="sp-dragging",oa=null;var pa=g.ownerDocument,qa=pa.body,ra=b(g),sa=false,ta=b(u,pa).addClass(V),ua=ta.find(".sp-color"),va=ta.find(".sp-dragger"),wa=ta.find(".sp-hue"),xa=ta.find(".sp-slider"),ya=ta.find(".sp-alpha-inner"),za=ta.find(".sp-alpha"),Aa=ta.find(".sp-alpha-handle"),Ba=ta.find(".sp-input"),Ca=ta.find(".sp-palette"),Da=ta.find(".sp-initial"),Ea=ta.find(".sp-cancel"),Fa=ta.find(".sp-clear"),Ga=ta.find(".sp-choose"),Ha=ra.is("input"),Ia=Ha&&s&&ra.attr("type")==="color",Ja=Ha&&!S,Ka=Ja?b(t).addClass(V).addClass(R.className):b([]),La=Ja?Ka:ra,Ma=Ka.find(".sp-preview-inner"),Na=R.color||Ha&&ra.val(),Oa=false,Pa=R.preferredFormat,Qa=Pa,Ra=!R.showButtons||R.clickoutFiresChange,Sa=!Na,Ta=R.allowEmpty&&!Ia;n();var Ua={show:C,hide:D,toggle:B,reflow:M,option:O,enable:P,disable:Q,set:function(a){F(a);L()},get:G,destroy:N,container:ta};Ua.id=p.push(Ua)-1;return Ua}function h(a,c){var d=0;var e=a.outerWidth();var f=a.outerHeight();var g=c.outerHeight();var h=a[0].ownerDocument;var i=h.documentElement;var j=i.clientWidth+b(h).scrollLeft();var k=i.clientHeight+b(h).scrollTop();var l=c.offset();l.top+=g;l.left-=Math.min(l.left,l.left+e>j&&j>e?Math.abs(l.left+e-j):0);l.top-=Math.min(l.top,l.top+f>k&&k>f?Math.abs(f+g-d):d);return l}function i(){}function j(a){a.stopPropagation()}function k(a,b){var c=Array.prototype.slice;var d=c.call(arguments,2);return function(){return a.apply(b,d.concat(c.call(arguments)))}}function l(c,d,e,f){function g(a){if(a.stopPropagation){a.stopPropagation()}if(a.preventDefault){a.preventDefault()}a.returnValue=false}function h(a){if(l){if(q&&document.documentMode<9&&!a.button){return j()}var b=a.originalEvent.touches;var e=b?b[0].pageX:a.pageX;var f=b?b[0].pageY:a.pageY;var h=Math.max(0,Math.min(e-m.left,o));var i=Math.max(0,Math.min(f-m.top,n));if(p){g(a)}d.apply(c,[h,i,a])}}function i(a){var d=a.which?a.which==3:a.button==2;var f=a.originalEvent.touches;if(!d&&!l){if(e.apply(c,arguments)!==false){l=true;n=b(c).height();o=b(c).width();m=b(c).offset();b(k).bind(r);b(k.body).addClass("sp-dragging");if(!p){h(a)}g(a)}}}function j(){if(l){b(k).unbind(r);b(k.body).removeClass("sp-dragging");f.apply(c,arguments)}l=false}d=d||function(){};e=e||function(){};f=f||function(){};var k=c.ownerDocument||document;var l=false;var m={};var n=0;var o=0;var p="ontouchstart"in a;var r={};r["selectstart"]=g;r["dragstart"]=g;r["touchmove mousemove"]=h;r["touchend mouseup"]=j;b(c).bind("touchstart mousedown",i)}function m(a,b,c){var d;return function(){var e=this,f=arguments;var g=function(){d=null;a.apply(e,f)};if(c)clearTimeout(d);if(c||!d)d=setTimeout(g,b)}}function n(){if(a.console){if(Function.prototype.bind)n=Function.prototype.bind.call(console.log,console);else n=function(){Function.prototype.apply.call(console.log,console,arguments)};n.apply(this,arguments)}}var o={beforeShow:i,move:i,change:i,show:i,hide:i,color:false,flat:false,showInput:false,allowEmpty:false,showButtons:true,clickoutFiresChange:false,showInitial:false,showPalette:false,showPaletteOnly:false,showSelectionPalette:true,localStorageKey:false,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",clearText:"Clear Color Selection",preferredFormat:false,className:"",showAlpha:false,theme:"sp-light",palette:["fff","000"],selectionPalette:[],disabled:false},p=[],q=!!/msie/i.exec(a.navigator.userAgent),r=function(){function a(a,b){return!!~(""+a).indexOf(b)}var b=document.createElement("div");var c=b.style;c.cssText="background-color:rgba(0,0,0,.5)";return a(c.backgroundColor,"rgba")||a(c.backgroundColor,"hsla")}(),s=function(){var a=b("<input type='color' value='!' />")[0];return a.type==="color"&&a.value!=="!"}(),t=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),u=function(){var a="";if(q){for(var b=1;b<=6;b++){a+="<div class='sp-"+b+"'></div>"}}return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",a,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<span class='dslca-sp-revert dslc-icon dslc-icon-undo' title='Revert to default'></span>","<span class='sp-cancel dslc-icon dslc-icon-remove' title='Cancel'></span>","<span class='sp-choose dslc-icon dslc-icon-ok' title='Confirm'></span>","</div>","</div>","</div>"].join("")}();var v="spectrum.id";b.fn.spectrum=function(a,c){if(typeof a=="string"){var d=this;var e=Array.prototype.slice.call(arguments,1);this.each(function(){var c=p[b(this).data(v)];if(c){var f=c[a];if(!f){throw new Error("Spectrum: no such method: '"+a+"'")}if(a=="get"){d=c.get()}else if(a=="container"){d=c.container}else if(a=="option"){d=c.option.apply(c,e)}else if(a=="destroy"){c.destroy();b(this).removeData(v)}else{f.apply(c,e)}}});return d}return this.spectrum("destroy").each(function(){var c=b.extend({},a,b(this).data());var d=g(this,c);b(this).data(v,d.id)})};b.fn.spectrum.load=true;b.fn.spectrum.loadOpts={};b.fn.spectrum.draggable=l;b.fn.spectrum.defaults=o;b.spectrum={};b.spectrum.localization={};b.spectrum.palettes={};b.fn.spectrum.processNativeColorInputs=function(){if(!s){b("input[type=color]").spectrum({preferredFormat:"hex6"})}};(function(){function b(a,d){a=a?a:"";d=d||{};if(typeof a=="object"&&a.hasOwnProperty("_tc_id")){return a}var f=c(a);var h=f.r,k=f.g,n=f.b,o=f.a,p=A(100*o)/100,q=d.format||f.format;if(h<1){h=A(h)}if(k<1){k=A(k)}if(n<1){n=A(n)}return{ok:f.ok,format:q,_tc_id:y++,alpha:o,getAlpha:function(){return o},setAlpha:function(a){o=l(a);p=A(100*o)/100},toHsv:function(){var a=g(h,k,n);return{h:a.h*360,s:a.s,v:a.v,a:o}},toHsvString:function(){var a=g(h,k,n);var b=A(a.h*360),c=A(a.s*100),d=A(a.v*100);return o==1?"hsv("+b+", "+c+"%, "+d+"%)":"hsva("+b+", "+c+"%, "+d+"%, "+p+")"},toHsl:function(){var a=e(h,k,n);return{h:a.h*360,s:a.s,l:a.l,a:o}},toHslString:function(){var a=e(h,k,n);var b=A(a.h*360),c=A(a.s*100),d=A(a.l*100);return o==1?"hsl("+b+", "+c+"%, "+d+"%)":"hsla("+b+", "+c+"%, "+d+"%, "+p+")"},toHex:function(a){return i(h,k,n,a)},toHexString:function(a){return"#"+this.toHex(a)},toHex8:function(){return j(h,k,n,o)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:A(h),g:A(k),b:A(n),a:o}},toRgbString:function(){return o==1?"rgb("+A(h)+", "+A(k)+", "+A(n)+")":"rgba("+A(h)+", "+A(k)+", "+A(n)+", "+p+")"},toPercentageRgb:function(){return{r:A(m(h,255)*100)+"%",g:A(m(k,255)*100)+"%",b:A(m(n,255)*100)+"%",a:o}},toPercentageRgbString:function(){return o==1?"rgb("+A(m(h,255)*100)+"%, "+A(m(k,255)*100)+"%, "+A(m(n,255)*100)+"%)":"rgba("+A(m(h,255)*100)+"%, "+A(m(k,255)*100)+"%, "+A(m(n,255)*100)+"%, "+p+")"},toName:function(){if(o===0){return"transparent"}return F[i(h,k,n,true)]||false},toFilter:function(a){var c="#"+j(h,k,n,o);var e=c;var f=d&&d.gradientType?"GradientType = 1, ":"";if(a){var g=b(a);e=g.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+f+"startColorstr="+c+",endColorstr="+e+")"},toString:function(a){var b=!!a;a=a||this.format;var c=false;var d=!b&&o<1&&o>0;var e=d&&(a==="hex"||a==="hex6"||a==="hex3"||a==="name");if(a==="rgb"){c=this.toRgbString()}if(a==="prgb"){c=this.toPercentageRgbString()}if(a==="hex"||a==="hex6"){c=this.toHexString()}if(a==="hex3"){c=this.toHexString(true)}if(a==="hex8"){c=this.toHex8String()}if(a==="name"){c=this.toName()}if(a==="hsl"){c=this.toHslString()}if(a==="hsv"){c=this.toHsvString()}if(e){return this.toRgbString()}return c||this.toHexString()}}}function c(a){var b={r:0,g:0,b:0};var c=1;var e=false;var g=false;if(typeof a=="string"){a=v(a)}if(typeof a=="object"){if(a.hasOwnProperty("r")&&a.hasOwnProperty("g")&&a.hasOwnProperty("b")){b=d(a.r,a.g,a.b);e=true;g=String(a.r).substr(-1)==="%"?"prgb":"rgb"}else if(a.hasOwnProperty("h")&&a.hasOwnProperty("s")&&a.hasOwnProperty("v")){a.s=s(a.s);a.v=s(a.v);b=h(a.h,a.s,a.v);e=true;g="hsv"}else if(a.hasOwnProperty("h")&&a.hasOwnProperty("s")&&a.hasOwnProperty("l")){a.s=s(a.s);a.l=s(a.l);b=f(a.h,a.s,a.l);e=true;g="hsl"}if(a.hasOwnProperty("a")){c=a.a}}c=l(c);return{ok:e,format:a.format||g,r:B(255,C(b.r,0)),g:B(255,C(b.g,0)),b:B(255,C(b.b,0)),a:c}}function d(a,b,c){return{r:m(a,255)*255,g:m(b,255)*255,b:m(c,255)*255}}function e(a,b,c){a=m(a,255);b=m(b,255);c=m(c,255);var d=C(a,b,c),e=B(a,b,c);var f,g,h=(d+e)/2;if(d==e){f=g=0}else{var i=d-e;g=h>.5?i/(2-d-e):i/(d+e);switch(d){case a:f=(b-c)/i+(b<c?6:0);break;case b:f=(c-a)/i+2;break;case c:f=(a-b)/i+4;break}f/=6}return{h:f,s:g,l:h}}function f(a,b,c){function d(a,b,c){if(c<0)c+=1;if(c>1)c-=1;if(c<1/6)return a+(b-a)*6*c;if(c<1/2)return b;if(c<2/3)return a+(b-a)*(2/3-c)*6;return a}var e,f,g;a=m(a,360);b=m(b,100);c=m(c,100);if(b===0){e=f=g=c}else{var h=c<.5?c*(1+b):c+b-c*b;var i=2*c-h;e=d(i,h,a+1/3);f=d(i,h,a);g=d(i,h,a-1/3)}return{r:e*255,g:f*255,b:g*255}}function g(a,b,c){a=m(a,255);b=m(b,255);c=m(c,255);var d=C(a,b,c),e=B(a,b,c);var f,g,h=d;var i=d-e;g=d===0?0:i/d;if(d==e){f=0}else{switch(d){case a:f=(b-c)/i+(b<c?6:0);break;case b:f=(c-a)/i+2;break;case c:f=(a-b)/i+4;break}f/=6}return{h:f,s:g,v:h}}function h(a,b,c){a=m(a,360)*6;b=m(b,100);c=m(c,100);var d=z.floor(a),e=a-d,f=c*(1-b),g=c*(1-e*b),h=c*(1-(1-e)*b),i=d%6,j=[c,g,f,f,h,c][i],k=[h,c,c,g,f,f][i],l=[f,f,h,c,c,g][i];return{r:j*255,g:k*255,b:l*255}}function i(a,b,c,d){var e=[r(A(a).toString(16)),r(A(b).toString(16)),r(A(c).toString(16))];if(d&&e[0].charAt(0)==e[0].charAt(1)&&e[1].charAt(0)==e[1].charAt(1)&&e[2].charAt(0)==e[2].charAt(1)){return e[0].charAt(0)+e[1].charAt(0)+e[2].charAt(0)}return e.join("")}function j(a,b,c,d){var e=[r(t(d)),r(A(a).toString(16)),r(A(b).toString(16)),r(A(c).toString(16))];return e.join("")}function k(a){var b={};for(var c in a){if(a.hasOwnProperty(c)){b[a[c]]=c}}return b}function l(a){a=parseFloat(a);if(isNaN(a)||a<0||a>1){a=1}return a}function m(a,b){if(p(a)){a="100%"}var c=q(a);a=B(b,C(0,parseFloat(a)));if(c){a=parseInt(a*b,10)/100}if(z.abs(a-b)<1e-6){return 1}return a%b/parseFloat(b)}function n(a){return B(1,C(0,a))}function o(a){return parseInt(a,16)}function p(a){return typeof a=="string"&&a.indexOf(".")!=-1&&parseFloat(a)===1}function q(a){return typeof a==="string"&&a.indexOf("%")!=-1}function r(a){return a.length==1?"0"+a:""+a}function s(a){if(a<=1){a=a*100+"%"}return a}function t(a){return Math.round(parseFloat(a)*255).toString(16)}function u(a){return o(a)/255}function v(a){a=a.replace(w,"").replace(x,"").toLowerCase();var b=false;if(E[a]){a=E[a];b=true}else if(a=="transparent"){return{r:0,g:0,b:0,a:0,format:"name"}}var c;if(c=G.rgb.exec(a)){return{r:c[1],g:c[2],b:c[3]}}if(c=G.rgba.exec(a)){return{r:c[1],g:c[2],b:c[3],a:c[4]}}if(c=G.hsl.exec(a)){return{h:c[1],s:c[2],l:c[3]}}if(c=G.hsla.exec(a)){return{h:c[1],s:c[2],l:c[3],a:c[4]}}if(c=G.hsv.exec(a)){return{h:c[1],s:c[2],v:c[3]}}if(c=G.hex8.exec(a)){return{a:u(c[1]),r:o(c[2]),g:o(c[3]),b:o(c[4]),format:b?"name":"hex8"}}if(c=G.hex6.exec(a)){return{r:o(c[1]),g:o(c[2]),b:o(c[3]),format:b?"name":"hex"}}if(c=G.hex3.exec(a)){return{r:o(c[1]+""+c[1]),g:o(c[2]+""+c[2]),b:o(c[3]+""+c[3]),format:b?"name":"hex"}}return false}var w=/^[\s,#]+/,x=/\s+$/,y=0,z=Math,A=z.round,B=z.min,C=z.max,D=z.random;b.fromRatio=function(a,c){if(typeof a=="object"){var d={};for(var e in a){if(a.hasOwnProperty(e)){if(e==="a"){d[e]=a[e]}else{d[e]=s(a[e])}}}a=d}return b(a,c)};b.equals=function(a,c){if(!a||!c){return false}return b(a).toRgbString()==b(c).toRgbString()};b.random=function(){return b.fromRatio({r:D(),g:D(),b:D()})};b.desaturate=function(a,c){c=c===0?0:c||10;var d=b(a).toHsl();d.s-=c/100;d.s=n(d.s);return b(d)};b.saturate=function(a,c){c=c===0?0:c||10;var d=b(a).toHsl();d.s+=c/100;d.s=n(d.s);return b(d)};b.greyscale=function(a){return b.desaturate(a,100)};b.lighten=function(a,c){c=c===0?0:c||10;var d=b(a).toHsl();d.l+=c/100;d.l=n(d.l);return b(d)};b.darken=function(a,c){c=c===0?0:c||10;var d=b(a).toHsl();d.l-=c/100;d.l=n(d.l);return b(d)};b.complement=function(a){var c=b(a).toHsl();c.h=(c.h+180)%360;return b(c)};b.triad=function(a){var c=b(a).toHsl();var d=c.h;return[b(a),b({h:(d+120)%360,s:c.s,l:c.l}),b({h:(d+240)%360,s:c.s,l:c.l})]};b.tetrad=function(a){var c=b(a).toHsl();var d=c.h;return[b(a),b({h:(d+90)%360,s:c.s,l:c.l}),b({h:(d+180)%360,s:c.s,l:c.l}),b({h:(d+270)%360,s:c.s,l:c.l})]};b.splitcomplement=function(a){var c=b(a).toHsl();var d=c.h;return[b(a),b({h:(d+72)%360,s:c.s,l:c.l}),b({h:(d+216)%360,s:c.s,l:c.l})]};b.analogous=function(a,c,d){c=c||6;d=d||30;var e=b(a).toHsl();var f=360/d;var g=[b(a)];for(e.h=(e.h-(f*c>>1)+720)%360;--c;){e.h=(e.h+f)%360;g.push(b(e))}return g};b.monochromatic=function(a,c){c=c||6;var d=b(a).toHsv();var e=d.h,f=d.s,g=d.v;var h=[];var i=1/c;while(c--){h.push(b({h:e,s:f,v:g}));g=(g+i)%1}return h};b.readability=function(a,c){var d=b(a).toRgb();var e=b(c).toRgb();var f=(d.r*299+d.g*587+d.b*114)/1e3;var g=(e.r*299+e.g*587+e.b*114)/1e3;var h=Math.max(d.r,e.r)-Math.min(d.r,e.r)+Math.max(d.g,e.g)-Math.min(d.g,e.g)+Math.max(d.b,e.b)-Math.min(d.b,e.b);return{brightness:Math.abs(f-g),color:h}};b.readable=function(a,c){var d=b.readability(a,c);return d.brightness>125&&d.color>500};b.mostReadable=function(a,c){var d=null;var e=0;var f=false;for(var g=0;g<c.length;g++){var h=b.readability(a,c[g]);var i=h.brightness>125&&h.color>500;var j=3*(h.brightness/125)+h.color/500;if(i&&!f||i&&f&&j>e||!i&&!f&&j>e){f=i;e=j;d=b(c[g])}}return d};var E=b.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var F=b.hexNames=k(E);var G=function(){var a="[-\\+]?\\d+%?";var b="[-\\+]?\\d*\\.\\d+%?";var c="(?:"+b+")|(?:"+a+")";var d="[\\s|\\(]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")\\s*\\)?";var e="[\\s|\\(]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")[,|\\s]+("+c+")\\s*\\)?";return{rgb:new RegExp("rgb"+d),rgba:new RegExp("rgba"+e),hsl:new RegExp("hsl"+d),hsla:new RegExp("hsla"+e),hsv:new RegExp("hsv"+d),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();a.tinycolor=b})();b(function(){if(b.fn.spectrum.load){b.fn.spectrum.processNativeColorInputs()}})})(window,jQuery);!function(a){"use strict";"function"==typeof define&&define.amd?define(a):"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=a():"undefined"!=typeof Package?Sortable=a():window.Sortable=a()}(function(){"use strict";function a(a,b){if(!a||!a.nodeType||1!==a.nodeType)throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(a);this.el=a,this.options=b=s({},b),a[O]=this;var c={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(a.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,animation:0,setData:function(a,b){a.setData("text/html",b.innerHTML)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0};for(var d in c)!(d in b)&&(b[d]=c[d]);_(b);for(var f in this)"_"===f.charAt(0)&&"function"==typeof this[f]&&(this[f]=this[f].bind(this));this.nativeDraggable=b.forceFallback?!1:U,e(a,"mousedown",this._onTapStart),e(a,"touchstart",this._onTapStart),this.nativeDraggable&&(e(a,"dragover",this),e(a,"dragenter",this)),Z.push(this._onDragOver),b.store&&this.sort(b.store.get(this))}function b(a){x&&x.state!==a&&(h(x,"display",a?"none":""),!a&&x.state&&y.insertBefore(x,u),x.state=a)}function c(a,b,c){if(a){c=c||Q;do if(">*"===b&&a.parentNode===c||q(a,b))return a;while(a!==c&&(a=a.parentNode))}return null}function d(a){a.dataTransfer&&(a.dataTransfer.dropEffect="move"),a.preventDefault()}function e(a,b,c){a.addEventListener(b,c,!1)}function f(a,b,c){a.removeEventListener(b,c,!1)}function g(a,b,c){if(a)if(a.classList)a.classList[c?"add":"remove"](b);else{var d=(" "+a.className+" ").replace(N," ").replace(" "+b+" "," ");a.className=(d+(c?" "+b:"")).replace(N," ")}}function h(a,b,c){var d=a&&a.style;if(d){if(void 0===c)return Q.defaultView&&Q.defaultView.getComputedStyle?c=Q.defaultView.getComputedStyle(a,""):a.currentStyle&&(c=a.currentStyle),void 0===b?c:c[b];b in d||(b="-webkit-"+b),d[b]=c+("string"==typeof c?"":"px")}}function i(a,b,c){if(a){var d=a.getElementsByTagName(b),e=0,f=d.length;if(c)for(;f>e;e++)c(d[e],e);return d}return[]}function j(a,b,c,d,e,f,g){a=a||b[O];var h=Q.createEvent("Event"),i=a.options,j="on"+c.charAt(0).toUpperCase()+c.substr(1);h.initEvent(c,!0,!0),h.to=b,h.from=e||b,h.item=d||b,h.clone=x,h.oldIndex=f,h.newIndex=g,b.dispatchEvent(h),i[j]&&i[j].call(a,h)}function k(a,b,c,d,e,f,g){var h,i,j=a[O],k=j.options.onMove;return h=Q.createEvent("Event"),h.initEvent("move",!0,!0),h.to=b,h.from=a,h.dragged=c,h.draggedRect=d,h.related=e||b,h.relatedRect=f||b.getBoundingClientRect(),a.dispatchEvent(h),k&&(i=k.call(j,h,g)),i}function l(a){a.draggable=!1}function m(){W=!1}function n(a,b){var c=a.lastElementChild,d=c.getBoundingClientRect();return(b.clientY-(d.top+d.height)>5||b.clientX-(d.right+d.width)>5)&&c}function o(a){for(var b=a.tagName+a.className+a.src+a.href+a.textContent,c=b.length,d=0;c--;)d+=b.charCodeAt(c);return d.toString(36)}function p(a,b){var c=0;if(!a||!a.parentNode)return-1;for(;a&&(a=a.previousElementSibling);)"TEMPLATE"===a.nodeName.toUpperCase()||">*"!==b&&!q(a,b)||c++;return c}function q(a,b){if(a){b=b.split(".");var c=b.shift().toUpperCase(),d=new RegExp("\\s("+b.join("|")+")(?=\\s)","g");return!(""!==c&&a.nodeName.toUpperCase()!=c||b.length&&((" "+a.className+" ").match(d)||[]).length!=b.length)}return!1}function r(a,b){var c,d;return function(){void 0===c&&(c=arguments,d=this,setTimeout(function(){1===c.length?a.call(d,c[0]):a.apply(d,c),c=void 0},b))}}function s(a,b){if(a&&b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function t(a){return S?S(a).clone(!0)[0]:T&&T.dom?T.dom(a).cloneNode(!0):a.cloneNode(!0)}if("undefined"==typeof window||!window.document)return function(){throw new Error("Sortable.js requires a window with a document")};var u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M={},N=/\s+/g,O="Sortable"+(new Date).getTime(),P=window,Q=P.document,R=P.parseInt,S=P.jQuery||P.Zepto,T=P.Polymer,U=!!("draggable"in Q.createElement("div")),V=function(a){return a=Q.createElement("x"),a.style.cssText="pointer-events:auto",
"auto"===a.style.pointerEvents}(),W=!1,X=Math.abs,Y=Math.min,Z=([].slice,[]),$=r(function(a,b,c){if(c&&b.scroll){var d,e,f,g,h=b.scrollSensitivity,i=b.scrollSpeed,j=a.clientX,k=a.clientY,l=window.innerWidth,m=window.innerHeight;if(B!==c&&(A=b.scroll,B=c,A===!0)){A=c;do if(A.offsetWidth<A.scrollWidth||A.offsetHeight<A.scrollHeight)break;while(A=A.parentNode)}A&&(d=A,e=A.getBoundingClientRect(),f=(X(e.right-j)<=h)-(X(e.left-j)<=h),g=(X(e.bottom-k)<=h)-(X(e.top-k)<=h)),f||g||(f=(h>=l-j)-(h>=j),g=(h>=m-k)-(h>=k),(f||g)&&(d=P)),M.vx===f&&M.vy===g&&M.el===d||(M.el=d,M.vx=f,M.vy=g,clearInterval(M.pid),d&&(M.pid=setInterval(function(){d===P?P.scrollTo(P.pageXOffset+f*i,P.pageYOffset+g*i):(g&&(d.scrollTop+=g*i),f&&(d.scrollLeft+=f*i))},24)))}},30),_=function(a){function b(a,b){return void 0===a&&(a=c.name),"function"==typeof a?a:function(c,d){var e=d.options.group.name;return b?a:a&&(a.join?a.indexOf(e)>-1:e==a)}}var c={},d=a.group;d&&"object"==typeof d||(d={name:d}),c.name=d.name,c.checkPull=b(d.pull,!0),c.checkPut=b(d.put),a.group=c};return a.prototype={constructor:a,_onTapStart:function(a){var b,d=this,e=this.el,f=this.options,g=a.type,h=a.touches&&a.touches[0],i=(h||a).target,k=i,l=f.filter;if(!u&&!("mousedown"===g&&0!==a.button||f.disabled)&&(i=c(i,f.draggable,e),i&&(!f.handle||c(k,f.handle,e)))){if(b=p(i,f.draggable),"function"==typeof l){if(l.call(this,a,i,this))return j(d,k,"filter",i,e,b),void a.preventDefault()}else if(l&&(l=l.split(",").some(function(a){return a=c(k,a.trim(),e),a?(j(d,a,"filter",i,e,b),!0):void 0})))return void a.preventDefault();this._prepareDragStart(a,h,i,b)}},_prepareDragStart:function(a,b,c,d){var f,h=this,k=h.el,m=h.options,n=k.ownerDocument;c&&!u&&c.parentNode===k&&(J=a,y=k,u=c,v=u.parentNode,z=u.nextSibling,H=m.group,F=d,this._lastX=(b||a).clientX,this._lastY=(b||a).clientY,f=function(){h._disableDelayedDrag(),u.draggable=h.nativeDraggable,g(u,m.chosenClass,!0),h._triggerDragStart(b),j(h,y,"choose",u,y,F)},m.ignore.split(",").forEach(function(a){i(u,a.trim(),l)}),e(n,"mouseup",h._onDrop),e(n,"touchend",h._onDrop),e(n,"touchcancel",h._onDrop),m.delay?(e(n,"mouseup",h._disableDelayedDrag),e(n,"touchend",h._disableDelayedDrag),e(n,"touchcancel",h._disableDelayedDrag),e(n,"mousemove",h._disableDelayedDrag),e(n,"touchmove",h._disableDelayedDrag),h._dragStartTimer=setTimeout(f,m.delay)):f())},_disableDelayedDrag:function(){var a=this.el.ownerDocument;clearTimeout(this._dragStartTimer),f(a,"mouseup",this._disableDelayedDrag),f(a,"touchend",this._disableDelayedDrag),f(a,"touchcancel",this._disableDelayedDrag),f(a,"mousemove",this._disableDelayedDrag),f(a,"touchmove",this._disableDelayedDrag)},_triggerDragStart:function(a){a?(J={target:u,clientX:a.clientX,clientY:a.clientY},this._onDragStart(J,"touch")):this.nativeDraggable?(e(u,"dragend",this),e(y,"dragstart",this._onDragStart)):this._onDragStart(J,!0);try{Q.selection?Q.selection.empty():window.getSelection().removeAllRanges()}catch(b){}},_dragStarted:function(){if(y&&u){var b=this.options;g(u,b.ghostClass,!0),g(u,b.dragClass,!1),a.active=this,j(this,y,"start",u,y,F)}},_emulateDragOver:function(){if(K){if(this._lastX===K.clientX&&this._lastY===K.clientY)return;this._lastX=K.clientX,this._lastY=K.clientY,V||h(w,"display","none");var a=Q.elementFromPoint(K.clientX,K.clientY),b=a,c=Z.length;if(b)do{if(b[O]){for(;c--;)Z[c]({clientX:K.clientX,clientY:K.clientY,target:a,rootEl:b});break}a=b}while(b=b.parentNode);V||h(w,"display","")}},_onTouchMove:function(b){if(J){var c=this.options,d=c.fallbackTolerance,e=b.touches?b.touches[0]:b,f=e.clientX-J.clientX,g=e.clientY-J.clientY,i=b.touches?"translate3d("+f+"px,"+g+"px,0)":"translate("+f+"px,"+g+"px)";if(!a.active){if(d&&Y(X(e.clientX-this._lastX),X(e.clientY-this._lastY))<d)return;this._dragStarted()}this._appendGhost(),L=!0,K=e,h(w,"webkitTransform",i),h(w,"mozTransform",i),h(w,"msTransform",i),h(w,"transform",i),b.preventDefault()}},_appendGhost:function(){if(!w){var a,b=u.getBoundingClientRect(),c=h(u),d=this.options;w=u.cloneNode(!0),g(w,d.ghostClass,!1),g(w,d.fallbackClass,!0),g(w,d.dragClass,!0),h(w,"top",b.top-R(c.marginTop,10)),h(w,"left",b.left-R(c.marginLeft,10)),h(w,"width",b.width),h(w,"height",b.height),h(w,"opacity","0.8"),h(w,"position","fixed"),h(w,"zIndex","100000"),h(w,"pointerEvents","none"),d.fallbackOnBody&&Q.body.appendChild(w)||y.appendChild(w),a=w.getBoundingClientRect(),h(w,"width",2*b.width-a.width),h(w,"height",2*b.height-a.height)}},_onDragStart:function(a,b){var c=a.dataTransfer,d=this.options;this._offUpEvents(),"clone"==H.checkPull(this,this,u,a)&&(x=t(u),h(x,"display","none"),y.insertBefore(x,u),j(this,y,"clone",u)),g(u,d.dragClass,!0),b?("touch"===b?(e(Q,"touchmove",this._onTouchMove),e(Q,"touchend",this._onDrop),e(Q,"touchcancel",this._onDrop)):(e(Q,"mousemove",this._onTouchMove),e(Q,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,50)):(c&&(c.effectAllowed="move",d.setData&&d.setData.call(this,c,u)),e(Q,"drop",this),setTimeout(this._dragStarted,0))},_onDragOver:function(d){var e,f,g,i=this.el,j=this.options,l=j.group,o=a.active,p=H===l,q=j.sort;if(void 0!==d.preventDefault&&(d.preventDefault(),!j.dragoverBubble&&d.stopPropagation()),L=!0,H&&!j.disabled&&(p?q||(g=!y.contains(u)):I===this||H.checkPull(this,o,u,d)&&l.checkPut(this,o,u,d))&&(void 0===d.rootEl||d.rootEl===this.el)){if($(d,j,this.el),W)return;if(e=c(d.target,j.draggable,i),f=u.getBoundingClientRect(),I=this,g)return b(!0),v=y,void(x||z?y.insertBefore(u,x||z):q||y.appendChild(u));if(0===i.children.length||i.children[0]===w||i===d.target&&(e=n(i,d))){if(e){if(e.animated)return;s=e.getBoundingClientRect()}b(p),k(y,i,u,f,e,s,d)!==!1&&(u.contains(i)||(i.appendChild(u),v=i),this._animate(f,u),e&&this._animate(s,e))}else if(e&&!e.animated&&e!==u&&void 0!==e.parentNode[O]){C!==e&&(C=e,D=h(e),E=h(e.parentNode));var r,s=e.getBoundingClientRect(),t=s.right-s.left,A=s.bottom-s.top,B=/left|right|inline/.test(D.cssFloat+D.display)||"flex"==E.display&&0===E["flex-direction"].indexOf("row"),F=e.offsetWidth>u.offsetWidth,G=e.offsetHeight>u.offsetHeight,J=(B?(d.clientX-s.left)/t:(d.clientY-s.top)/A)>.5,K=e.nextElementSibling,M=k(y,i,u,f,e,s,d);if(M!==!1){if(W=!0,setTimeout(m,30),b(p),1===M||-1===M)r=1===M;else if(B){var N=u.offsetTop,P=e.offsetTop;r=N===P?e.previousElementSibling===u&&!F||J&&F:e.previousElementSibling===u||u.previousElementSibling===e?(d.clientY-s.top)/A>.5:P>N}else r=K!==u&&!G||J&&G;u.contains(i)||(r&&!K?i.appendChild(u):e.parentNode.insertBefore(u,r?K:e)),v=u.parentNode,this._animate(f,u),this._animate(s,e)}}}},_animate:function(a,b){var c=this.options.animation;if(c){var d=b.getBoundingClientRect();h(b,"transition","none"),h(b,"transform","translate3d("+(a.left-d.left)+"px,"+(a.top-d.top)+"px,0)"),b.offsetWidth,h(b,"transition","all "+c+"ms"),h(b,"transform","translate3d(0,0,0)"),clearTimeout(b.animated),b.animated=setTimeout(function(){h(b,"transition",""),h(b,"transform",""),b.animated=!1},c)}},_offUpEvents:function(){var a=this.el.ownerDocument;f(Q,"touchmove",this._onTouchMove),f(a,"mouseup",this._onDrop),f(a,"touchend",this._onDrop),f(a,"touchcancel",this._onDrop)},_onDrop:function(b){var c=this.el,d=this.options;clearInterval(this._loopId),clearInterval(M.pid),clearTimeout(this._dragStartTimer),f(Q,"mousemove",this._onTouchMove),this.nativeDraggable&&(f(Q,"drop",this),f(c,"dragstart",this._onDragStart)),this._offUpEvents(),b&&(L&&(b.preventDefault(),!d.dropBubble&&b.stopPropagation()),w&&w.parentNode.removeChild(w),u&&(this.nativeDraggable&&f(u,"dragend",this),l(u),g(u,this.options.ghostClass,!1),g(u,this.options.chosenClass,!1),y!==v?(G=p(u,d.draggable),G>=0&&(j(null,v,"add",u,y,F,G),j(this,y,"remove",u,y,F,G),j(null,v,"sort",u,y,F,G),j(this,y,"sort",u,y,F,G))):(x&&x.parentNode.removeChild(x),u.nextSibling!==z&&(G=p(u,d.draggable),G>=0&&(j(this,y,"update",u,y,F,G),j(this,y,"sort",u,y,F,G)))),a.active&&(null!==G&&-1!==G||(G=F),j(this,y,"end",u,y,F,G),this.save()))),this._nulling()},_nulling:function(){y=u=v=w=z=x=A=B=J=K=L=G=C=D=I=H=a.active=null},handleEvent:function(a){var b=a.type;"dragover"===b||"dragenter"===b?u&&(this._onDragOver(a),d(a)):"drop"!==b&&"dragend"!==b||this._onDrop(a)},toArray:function(){for(var a,b=[],d=this.el.children,e=0,f=d.length,g=this.options;f>e;e++)a=d[e],c(a,g.draggable,this.el)&&b.push(a.getAttribute(g.dataIdAttr)||o(a));return b},sort:function(a){var b={},d=this.el;this.toArray().forEach(function(a,e){var f=d.children[e];c(f,this.options.draggable,d)&&(b[a]=f)},this),a.forEach(function(a){b[a]&&(d.removeChild(b[a]),d.appendChild(b[a]))})},save:function(){var a=this.options.store;a&&a.set(this)},closest:function(a,b){return c(a,b||this.options.draggable,this.el)},option:function(a,b){var c=this.options;return void 0===b?c[a]:(c[a]=b,void("group"===a&&_(c)))},destroy:function(){var a=this.el;a[O]=null,f(a,"mousedown",this._onTapStart),f(a,"touchstart",this._onTapStart),this.nativeDraggable&&(f(a,"dragover",this),f(a,"dragenter",this)),Array.prototype.forEach.call(a.querySelectorAll("[draggable]"),function(a){a.removeAttribute("draggable")}),Z.splice(Z.indexOf(this._onDragOver),1),this._onDrop(),this.el=a=null}},a.utils={on:e,off:f,css:h,find:i,is:function(a,b){return!!c(a,b,a)},extend:s,throttle:r,closest:c,toggleClass:g,clone:t,index:p},a.create=function(b,c){return new a(b,c)},a.version="1.4.2",a});(function(){var a=function(a,b,c){if(!a||typeof b!="function"||typeof c!="object"&&c){console.error("mq_mutation_obs:: invalid arguments in class constructor");return false}var d=new MutationObserver(function(a){a.forEach(b)});var e=c||{attributes:true,childList:true,characterData:true};d.observe(a,e);return d};window.mqMutationObserver=a})();jQuery.fn.outerHide=function(a){var b=jQuery;a=a?a:{};var c=this;if("destroy"==a){b(document).unbind("click.outer_hide");return false}b(document).bind("click.outer_hide",function(d){if(b(d.target).closest(c).length==0&&d.target!=c&&b.inArray(b(d.target)[0],b(a.clickObj))==-1&&b(c).css("display")!="none"){if(a.clbk){a.clbk()}else{b(c).hide()}}})};function dslc_serialize(a){var b,c,d;var e="";var f="";var g=0;var h=function(a){var b=0;var c=0;var d=a.length;var e="";for(c=0;c<d;c++){e=a.charCodeAt(c);if(e<128){b+=1}else if(e<2048){b+=2}else{b+=3}}return b};var i=function(a){var b;var c;var d;var e;var f=typeof a;if(f==="object"&&!a){return"null"}if(f==="object"){if(!a.constructor){return"object"}d=a.constructor.toString();b=d.match(/(\w+)\(/);if(b){d=b[1].toLowerCase()}e=["boolean","number","string","array"];for(c in e){if(d===e[c]){f=e[c];break}}}return f};var j=i(a);switch(j){case"function":b="";break;case"boolean":b="b:"+(a?"1":"0");break;case"number":b=(Math.round(a)===a?"i":"d")+":"+a;break;case"string":b="s:"+h(a)+':"'+a+'"';break;case"array":case"object":b="a";for(c in a){if(a.hasOwnProperty(c)){e=i(a[c]);if(e==="function"){continue}d=c.match(/^[0-9]+$/)?parseInt(c,10):c;f+=dslc_serialize(d)+dslc_serialize(a[c]);g++}}b+=":"+g+":{"+f+"}";break;case"undefined":default:b="N";break}if(j!=="object"&&j!=="array"){b+=";"}return b}function dslc_unserialize(a){var b=typeof window!=="undefined"?window:GLOBAL;var c=function(a){var b=a.charCodeAt(0);var c=[338,339,352,353,376,402,8211,8212,8216,8217,8218,8220,8221,8222,8224,8225,8226,8230,8240,8364,8482];if(b<128||b>=160&&b<=255||c.indexOf(b)!==-1){return 0}if(b<2048){return 1}return 2};var d=function(a,c,d,e){throw new b[a](c,d,e)};var e=function(a,b,c){var e=2;var f=[];var g=a.slice(b,b+1);while(g!==c){if(e+b>a.length){d("Error","Invalid")}f.push(g);g=a.slice(b+(e-1),b+e);e+=1}return[f.length,f.join("")]};var f=function(a,b,d){var e,f,g;g=[];for(e=0;e<d;e++){f=a.slice(b+(e-1),b+e);g.push(f);d-=c(f)}return[g.length,g.join("")]};var g=function(a,b){var c;var h;var i;var j;var k;var l;var m;var n;var o;var p;var q;var r;var s;var t;var u;var v;var w;var x;var y=0;var z=function(a){return a};if(!b){b=0}c=a.slice(b,b+1).toLowerCase();h=b+2;switch(c){case"i":z=function(a){return parseInt(a,10)};o=e(a,h,";");y=o[0];n=o[1];h+=y+1;break;case"b":z=function(a){return parseInt(a,10)!==0};o=e(a,h,";");y=o[0];n=o[1];h+=y+1;break;case"d":z=function(a){return parseFloat(a)};o=e(a,h,";");y=o[0];n=o[1];h+=y+1;break;case"n":n=null;break;case"s":p=e(a,h,":");y=p[0];q=p[1];h+=y+2;o=f(a,h+1,parseInt(q,10));y=o[0];n=o[1];h+=y+2;if(y!==parseInt(q,10)&&y!==n.length){d("SyntaxError","String length mismatch")}break;case"a":n={};i=e(a,h,":");y=i[0];j=i[1];h+=y+2;l=parseInt(j,10);k=true;for(r=0;r<l;r++){t=g(a,h);u=t[1];s=t[2];h+=u;v=g(a,h);w=v[1];x=v[2];h+=w;if(s!==r){k=false}n[s]=x}if(k){m=new Array(l);for(r=0;r<l;r++){m[r]=n[r]}n=m}h+=1;break;default:d("SyntaxError","Unknown / Unhandled data type(s): "+c);break}return[c,h-b,z(n)]};return g(a+"",0)[2]}function dslc_update_preset(){if(dslcDebug)console.log("dslc_update_preset");var a=jQuery(".dslca-module-being-edited",DSLC.Editor.frame),b=a.find('.dslca-module-option-front[data-id="css_load_preset"]').val(),c=a.find(".dslca-module-code").val(),d=a.data("dslc-module-id");if(b!=="none"){jQuery.post(DSLCAjax.ajaxurl,{action:"dslc-ajax-save-preset",dslc_preset_name:b,dslc_preset_code:c,dslc_module_id:d},function(b){jQuery(".dslc-module-front:not(#"+a.attr("id")+')[data-dslc-module-id="'+a.data("dslc-module-id")+'"][data-dslc-preset="'+a.data("dslc-preset")+'"]').each(function(){dslc_module_output_reload(jQuery(this))})})}}jQuery(document).ready(function(a){a(document).on("keypress",'.dslca-module-edit-field[name="css_save_preset"]',function(b){if(b.which==13){var c=a(this).val(),d=c.toLowerCase().replace(/\s/g,"-");a("body").addClass("dslca-new-preset-added");a('.dslca-module-edit-field[name="css_load_preset"]').append('<option value="'+d+'">'+d+"</option>").val(d).trigger("change");a(this).val("")}});a(document).on("change",'.dslca-module-edit-field[name="css_load_preset"]',function(b){a(".dslca-module-being-edited",DSLC.Editor.frame).addClass("dslca-preload-preset")})});"use strict";DSLC.Editor.CRow=function(a){var b=this;this.elem=a;var c=jQuery(a).find(".dslc-modules-section-wrapper .dslc-modules-section-inner").eq(0)[0];jQuery(a).droppable({drop:function(a,b){var c=jQuery(this).find(".dslc-modules-section-inner");var d=b.draggable.data("id");if(d=="DSLC_M_A"){dslc_modules_area_add(c)}}});this.sortable=jQuery(c).sortable({connectWith:".dslc-modules-section-inner",items:".dslc-modules-area",handle:'.dslca-move-modules-area-hook:not(".dslca-action-disabled")',placeholder:"dslca-modules-area-placeholder",cursorAt:{top:0,left:0},tolerance:"intersect",scroll:true,scrollSensitivity:100,scrollSpeed:15,sort:function(){jQuery(this).removeClass("ui-state-default")},over:function(a,b){var c=b.placeholder.closest(".dslc-modules-section");jQuery(c).removeClass("dslc-modules-section-empty").addClass("dslc-modules-section-not-empty");c.siblings(".dslc-modules-section").each(function(){if(jQuery(".dslc-modules-area:not(.ui-sortable-helper)",jQuery(this)).length){jQuery(this).removeClass("dslc-modules-section-empty").addClass("dslc-modules-section-not-empty")}else{jQuery(this).removeClass("dslc-modules-section-not-empty").addClass("dslc-modules-section-empty")}})},remove:function(){jQuery(b.elem).find(".dslc-modules-area").length==0&&dslc_modules_area_add(jQuery(c))},update:function(a,b){dslc_generate_code();dslc_show_publish_button()},start:function(a,b){b.placeholder.html('<span class="dslca-placeholder-help-text"><span class="dslca-placeholder-help-text-inner">'+DSLCString.str_area_helper_text+"</span></span>");if(!jQuery(b.item).hasClass("dslc-12-col")){b.placeholder.width(b.item.width()-10)}else{b.placeholder.width(b.item.width()).css({margin:0})}jQuery("body").removeClass("dslca-drag-not-in-progress").addClass("dslca-drag-in-progress dslca-modules-area-drag-in-progress");jQuery(".dslc-modules-section-inner").sortable("refreshPositions")},stop:function(a,b){jQuery("body").removeClass("dslca-drag-in-progress dslca-modules-area-drag-in-progress").addClass("dslca-drag-not-in-progress");jQuery(".dslca-anim-opacity-drop").removeClass("dslca-anim-opacity-drop")},change:function(a,b){}});jQuery(a).attr("data-jsinit","initialized")};jQuery(document).on("editorFrameLoaded",function(){var a=jQuery;jQuery(".dslc-modules-section",DSLC.Editor.frame).each(function(){new DSLC.Editor.CRow(this)});DSLC.Editor.frame.on("click",".dslca-delete-modules-section-hook",function(b){b.preventDefault();var c=this;if(!a(this).hasClass("dslca-action-disabled")){DSLC.Editor.CModalWindow({title:DSLCString.str_del_row_title,content:DSLCString.str_del_row_descr,confirm:function(){dslc_row_delete(a(c).closest(".dslc-modules-section"))}})}});DSLC.Editor.frame.on("click",".dslca-import-modules-section-hook",function(a){a.preventDefault();if(!jQuery(this).hasClass("dslca-action-disabled")){DSLC.Editor.CModalWindow({title:DSLCString.str_import_row_title,content:DSLCString.str_import_row_descr+"<br><br><textarea></textarea>",confirm:function(){dslc_row_import(jQuery(".dslca-prompt-modal textarea").val());jQuery(".dslca-prompt-modal-confirm-hook span").css({opacity:0});jQuery(".dslca-prompt-modal-confirm-hook .dslca-loading").show()},confirm_title:DSLCString.str_import})}});DSLC.Editor.frame.on("click",".dslca-export-modules-section-hook",function(b){b.preventDefault();if(!a(this).hasClass("dslca-action-disabled")){a(".dslca-prompt-modal-cancel-hook").hide();a(".dslca-prompt-modal-confirm-hook").html('<span class="dslc-icon dslc-icon-ok"></span>'+DSLCString.str_ok);dslc_js_confirm("export_modules_section",'<span class="dslca-prompt-modal-title">'+DSLCString.str_export_row_title+'</span><span class="dslca-prompt-modal-descr">'+DSLCString.str_export_row_descr+" <br><br><textarea></textarea></span>",a(this));a(".dslca-prompt-modal textarea").val(dslc_generate_section_code(a(this).closest(".dslc-modules-section")))}});DSLC.Editor.frame.on("click",".dslca-copy-modules-section-hook",function(){if(!jQuery(this).hasClass("dslca-action-disabled")){dslc_row_copy(jQuery(this).closest(".dslc-modules-section"))}});DSLC.Editor.frame.on("click",".dslca-add-modules-section-hook",function(){var b=a(this);if(!a(this).hasClass("dslca-action-disabled")){b.find(".dslca-icon").removeClass("dslc-icon-align-justify").addClass("dslc-icon-spinner dslc-icon-spin");dslc_row_add(function(){b.find(".dslca-icon").removeClass("dslc-icon-spinner dslc-icon-spin").addClass("dslc-icon-align-justify")})}});DSLC.Editor.frame.on("click",".dslca-edit-modules-section-hook",function(){var b=this;var c=jQuery(".dslca-module-being-edited",DSLC.Editor.frame).length;var d=jQuery(".dslca-modules-section-being-edited",DSLC.Editor.frame).length;if(a("body").hasClass("dslca-composer-hidden")||c>0||d>0)return false;if(!a(this).hasClass("dslca-action-disabled")){dslc_row_edit(a(this).closest(".dslc-modules-section"))}})});function dslc_row_add(a){if(dslcDebug)console.log("dslc_row_add");a=typeof a!=="undefined"?a:false;var b=jQuery.Deferred();jQuery.post(DSLCAjax.ajaxurl,{action:"dslc-ajax-add-modules-section",dslc:"active"},function(c){var d=jQuery(c.output);d.appendTo(DSLC.Editor.frame.find("#dslc-main"));dslc_drag_and_drop();dslc_generate_code();dslc_show_publish_button();new DSLC.Editor.CRow(d);new DSLC.Editor.CModuleArea(d.find(".dslc-modules-area").eq(0)[0]);if(a){a()}d.find(".dslc-modules-area").addClass("dslc-modules-area-empty dslc-last-col");b.resolve(d[0])});return b}function dslc_row_delete(a){if(dslcDebug)console.log("dslc_row_delete");if(a.find(".dslca-module-being-edited")){jQuery(".dslca-header .dslca-options-filter-hook").hide();jQuery(".dslca-module-edit-actions").hide();jQuery(".dslca-header .dslca-go-to-section-hook").show();dslc_show_section(".dslca-modules")}a.trigger("mouseleave").remove();dslc_generate_code();dslc_show_publish_button()}function dslc_row_edit(a){if(dslcDebug)console.log("dslc_row_edit");var b,c;jQuery(".dslca-module-being-edited",DSLC.Editor.frame).removeClass("dslca-module-being-edited");jQuery(".dslca-modules-section-being-edited",DSLC.Editor.frame).removeClass("dslca-modules-section-being-edited").removeClass("dslca-modules-section-change-made");a.addClass("dslca-modules-section-being-edited");jQuery(".dslca-header .dslca-go-to-section-hook").hide();jQuery('.dslca-row-options-filter-hook[data-section="styling"], .dslca-row-options-filter-hook[data-section="responsive"]').show();jQuery('.dslca-row-options-filter-hook[data-section="styling"]').trigger("click");jQuery(".dslca-header .dslca-options-filter-hook").hide();jQuery(".dslca-module-edit-actions").hide();jQuery(".dslca-row-edit-actions").show();jQuery(".dslca-modules-section-edit-field").each(function(){if("type"===jQuery(this).data("id")){if(""===jQuery('.dslca-modules-section-being-edited .dslca-modules-section-settings input[data-id="type"]',DSLC.Editor.frame).val()||"wrapped"===jQuery('.dslca-modules-section-being-edited .dslca-modules-section-settings input[data-id="type"]',DSLC.Editor.frame).val()){jQuery('select[data-id="type"]').val("wrapper").change()}}if(jQuery(this).data("id")=="border-top"){if(jQuery('.dslca-modules-section-being-edited .dslca-modules-section-settings input[data-id="border"]',DSLC.Editor.frame).val().indexOf("top")>=0){jQuery(this).prop("checked",true);jQuery(this).siblings(".dslca-modules-section-edit-option-checkbox-hook").find(".dslca-icon").removeClass("dslc-icon-check-empty").addClass("dslc-icon-check")}else{jQuery(this).prop("checked",false);jQuery(this).siblings(".dslca-modules-section-edit-option-checkbox-hook").find(".dslca-icon").removeClass("dslc-icon-check").addClass("dslc-icon-check-empty")}}else if(jQuery(this).data("id")=="border-right"){if(jQuery('.dslca-modules-section-being-edited .dslca-modules-section-settings input[data-id="border"]',DSLC.Editor.frame).val().indexOf("right")>=0){jQuery(this).prop("checked",true);jQuery(this).siblings(".dslca-modules-section-edit-option-checkbox-hook").find(".dslca-icon").removeClass("dslc-icon-check-empty").addClass("dslc-icon-check")}else{jQuery(this).prop("checked",false);jQuery(this).siblings(".dslca-modules-section-edit-option-checkbox-hook").find(".dslca-icon").removeClass("dslc-icon-check").addClass("dslc-icon-check-empty")}}else if(jQuery(this).data("id")=="border-bottom"){if(jQuery('.dslca-modules-section-being-edited .dslca-modules-section-settings input[data-id="border"]',DSLC.Editor.frame).val().indexOf("bottom")>=0){jQuery(this).prop("checked",true);jQuery(this).siblings(".dslca-modules-section-edit-option-checkbox-hook").find(".dslca-icon").removeClass("dslc-icon-check-empty").addClass("dslc-icon-check")}else{jQuery(this).prop("checked",false);jQuery(this).siblings(".dslca-modules-section-edit-option-checkbox-hook").find(".dslca-icon").removeClass("dslc-icon-check").addClass("dslc-icon-check-empty")}}else if(jQuery(this).data("id")=="border-left"){if(jQuery('.dslca-modules-section-being-edited .dslca-modules-section-settings input[data-id="border"]',DSLC.Editor.frame).val().indexOf("left")>=0){jQuery(this).prop("checked",true);jQuery(this).siblings(".dslca-modules-section-edit-option-checkbox-hook").find(".dslca-icon").removeClass("dslc-icon-check-empty").addClass("dslc-icon-check")}else{jQuery(this).prop("checked",false);jQuery(this).siblings(".dslca-modules-section-edit-option-checkbox-hook").find(".dslca-icon").removeClass("dslc-icon-check").addClass("dslc-icon-check-empty")}}else if(jQuery(this).hasClass("dslca-modules-section-edit-field-checkbox")){if(jQuery('.dslca-modules-section-being-edited .dslca-modules-section-settings input[data-id="'+jQuery(this).data("id")+'"]',DSLC.Editor.frame).val().indexOf(jQuery(this).data("val"))>=0){jQuery(this).prop("checked",true);jQuery(this).siblings(".dslca-modules-section-edit-option-checkbox-hook").find(".dslca-icon").removeClass("dslc-icon-check-empty").addClass("dslc-icon-check")}else{jQuery(this).prop("checked",false);jQuery(this).siblings(".dslca-modules-section-edit-option-checkbox-hook").find(".dslca-icon").removeClass("dslc-icon-check").addClass("dslc-icon-check-empty")}}else{jQuery(this).val(jQuery('.dslca-modules-section-being-edited .dslca-modules-section-settings input[data-id="'+jQuery(this).data("id")+'"]',DSLC.Editor.frame).val());if(jQuery(this).hasClass("dslca-modules-section-edit-field-colorpicker")){var a=jQuery(this);jQuery(this).closest(".dslca-modules-section-edit-option").find(".sp-preview-inner").removeClass("sp-clear-display").css({"background-color":a.val()});jQuery(this).css({"background-color":a.val()})}}});jQuery(".dslca-modules-section-edit-field-upload").each(function(){var a=jQuery(this).closest(".dslca-modules-section-edit-option");if(jQuery(this).val()&&jQuery(this).val()!=="disabled"){jQuery(".dslca-modules-section-edit-field-image-add-hook",a).hide();jQuery(".dslca-modules-section-edit-field-image-remove-hook",a).show()}else{jQuery(".dslca-modules-section-edit-field-image-remove-hook",a).hide();jQuery(".dslca-modules-section-edit-field-image-add-hook",a).show()}});dslc_show_section(".dslca-modules-section-edit");dslc_hide_publish_button()}function dslc_row_edit_cancel(a){if(dslcDebug)console.log("dslc_row_cancel_changes");a=typeof a!=="undefined"?a:false;DSLC.Editor.flags.generate_code_after_row_changed=false;jQuery(".dslca-modules-section-being-edited .dslca-modules-section-settings input",DSLC.Editor.frame).each(function(){jQuery(this).val(jQuery(this).data("def"));jQuery('.dslca-modules-section-edit-field[data-id="'+jQuery(this).data("id")+'"]').val(jQuery(this).data("def")).trigger("change")});DSLC.Editor.flags.generate_code_after_row_changed=true;dslc_generate_code();dslc_show_publish_button();dslc_show_section(".dslca-modules");jQuery(".dslca-row-edit-actions").hide();jQuery(".dslca-row-options-filter-hook").hide();jQuery(".dslca-header .dslca-go-to-section-hook").show();dslc_show_publish_button;jQuery(".dslca-modules-section-being-edited",DSLC.Editor.frame).removeClass("dslca-modules-section-being-edited dslca-modules-section-change-made");if(a){a()}dslc_show_publish_button}function dslc_row_edit_confirm(a){if(dslcDebug)console.log("dslc_confirm_row_changes");a=typeof a!=="undefined"?a:false;jQuery(".dslca-modules-section-being-edited .dslca-modules-section-settings input",DSLC.Editor.frame).each(function(){jQuery(this).data("def",jQuery(this).val())});dslc_show_section(".dslca-modules");jQuery(".dslca-row-edit-actions").hide();jQuery(".dslca-row-options-filter-hook").hide();jQuery(".dslca-header .dslca-go-to-section-hook").show();jQuery(".dslca-modules-section-being-edited",DSLC.Editor.frame).removeClass("dslca-modules-section-being-edited dslca-modules-section-change-made");dslc_generate_code();dslc_show_publish_button();if(a){a()}}function dslc_row_copy(a){if(dslcDebug)console.log("dslc_row_copy");var b,c,d;c=a.clone().appendTo(jQuery("#dslc-main",DSLC.Editor.frame));c[0].removeAttribute("data-jsinit");c.find(".dslc-modules-area").each(function(){var b=jQuery(this).index();jQuery(this).data("size",a.find(".dslc-modules-area:eq( "+b+" )").data("size"));this.removeAttribute("data-jsinit")});c.find(".dslc-module-front").css({"-webkit-animation-name":"none","-moz-animation-name":"none","animation-name":"none","animation-duration":"0","-webkit-animation-duration":"0",opacity:0}).each(function(){dslc_module=jQuery(this);b=DSLC_Util.get_unique_id();jQuery(".dslca-module-being-edited",DSLC.Editor.frame).removeClass("dslca-module-being-edited");dslc_module.data("module-id",b).attr("id","dslc-module-"+b);dslc_module.addClass("dslca-module-being-edited");DSLC.Editor.add_postponed_action("dslc_actions_after_row_copy");dslc_module_output_altered(function(){jQuery(".dslca-module-being-edited",DSLC.Editor.frame).removeClass("dslca-module-being-edited").animate({opacity:1},300);DSLC.Editor.release_postponed_actions()})})}function dslc_actions_after_row_copy(){if(dslcDebug)console.info("dslc_after_copy_actions");DSLC.Editor.rows_init();DSLC.Editor.moduleareas_init();dslc_generate_code();dslc_drag_and_drop();dslc_show_publish_button()}function dslc_row_import(a){if(dslcDebug)console.log("dslc_row_import");jQuery.post(DSLCAjax.ajaxurl,{action:"dslc-ajax-import-modules-section",dslc:"active",dslc_modules_section_code:a},function(a){dslc_js_confirm_close();jQuery("#dslc-main",DSLC.Editor.frame).append(a.output);DSLC.Editor.frameContext.dslc_bg_video();DSLC.Editor.frameContext.dslc_carousel();DSLC.Editor.frameContext.dslc_masonry(jQuery("#dslc-main",DSLC.Editor.frame).find(".dslc-modules-section:last-child"));DSLC.Editor.rows_init();DSLC.Editor.moduleareas_init();dslc_drag_and_drop();dslc_generate_code();dslc_show_publish_button()})}function dslc_add_modules_section(){dslc_row_add()}function dslc_delete_modules_section(a){dslc_row_delete(a)}function dslc_edit_modules_section(a){dslc_row_edit(a)}function dslc_copy_modules_section(a){dslc_row_copy(a)}function dslc_import_modules_section(a){dslc_row_import(a)}jQuery(document).ready(function(a){a(document).on("click",".dslca-row-edit-save",function(){dslc_row_edit_confirm();a(".dslca-currently-editing").removeAttr("style");a(".dslca-row-options-filter-hook.dslca-active").removeClass("dslca-active");DSLC.Editor.frameContext.dslc_responsive_classes(true)});a(document).on("click",".dslca-row-edit-cancel",function(){dslc_row_edit_cancel();a(".dslca-currently-editing").removeAttr("style");a(".dslca-row-options-filter-hook.dslca-active").removeClass("dslca-active");DSLC.Editor.frameContext.dslc_responsive_classes(true)})});DSLC.Editor.rows_init=function(){jQuery("#dslc-main .dslc-modules-section",DSLC.Editor.frame).each(function(){if(jQuery(this).data("jsinit")!=="initialized"){new DSLC.Editor.CRow(this)}})};function dslc_scroller_init(){if(dslcDebug)console.log("dslc_scroller_init");var a=jQuery(".dslca-section-scroller");if(a.length){a.each(function(){var a,b=jQuery(this),c=jQuery(".dslca-section-scroller-inner",b),d=c.position(),e=jQuery(".dslca-section-scroller-content",b),f=jQuery(".dslca-scroller-item:visible",b),g=0,h=b.width()+d.left*-1,i=e.width();jQuery(".dslca-section-scroller-item-last",b).removeClass("dslca-section-scroller-item-last");f.each(function(){a=jQuery(this);g+=a.outerWidth();if(g>h){if(jQuery(".dslca-section-scroller-item-last",b).length<1){a.addClass("dslca-section-scroller-item-last");b.data("current",a.prev(".dslca-scroller-item:visible").index())}}})})}}function dslc_scroller_go_to(a,b){if(dslcDebug)console.log("dslc_scroller_go_to");var c=jQuery(".dslca-section-scroller-inner",b),d=jQuery(".dslca-section-scroller-content",b),e=jQuery(".dslca-scroller-item",b),f=jQuery(".dslca-scroller-item:eq("+a+")",b);if(f.length){var g=b.width(),h=d.width(),i=f.position();var j=g-(i.left+f.outerWidth());if(j<0){b.data("current",a);c.css({left:j})}else{c.css({left:0})}}}function dslc_scroller_prev(a){if(dslcDebug)console.log("dslc_scroller_prev");var b=a.data("current");var c=a.find(".dslca-scroller-item:eq("+b+")").prevAll(".dslca-scroller-item:visible").eq(3).index();var d=a.find(".dslca-scroller-item:eq("+b+")").prevAll(".dslca-scroller-item:visible").eq(0).index();if(c!==-1){dslc_scroller_go_to(c,a)}else if(d!==-1){dslc_scroller_go_to(d,a)}}function dslc_scroller_next(a){if(dslcDebug)console.log("dslc_scroller_next");var b=a.data("current");var c=a.find(".dslca-scroller-item:eq("+b+")").nextAll(".dslca-scroller-item:visible").eq(3).index();var d=a.find(".dslca-scroller-item:eq("+b+")").nextAll(".dslca-scroller-item:visible").eq(0).index();if(c!==-1)dslc_scroller_go_to(c,a);else if(d!==-1)dslc_scroller_go_to(d,a)}function dslc_scroller_inputevents(){var a=true;var b="";jQuery(".dslca-section-scroller").on("wheel",function(c){if(c.originalEvent.deltaY>=10||c.originalEvent.deltaX>=10){c.preventDefault();if(a){dslc_scroller_next(jQuery(this).closest(".dslca-section").find(".dslca-section-scroller"));a=false}}else if(c.originalEvent.deltaY<=-10||c.originalEvent.deltaX<=-10){c.preventDefault();if(a){dslc_scroller_prev(jQuery(this).closest(".dslca-section").find(".dslca-section-scroller"));a=false}}if(c.originalEvent.deltaY>=10||c.originalEvent.deltaY<=-10){b="Y"}else if(c.originalEvent.deltaX>=10||c.originalEvent.deltaX<=-10){
b="X"}if(a===false&&b==="Y"&&c.originalEvent.deltaY===0){a=true}else if(a===false&&b==="X"&&c.originalEvent.deltaX===0){a=true}});jQuery(document).on("click",".dslca-section-scroller-prev",function(a){a.preventDefault();dslc_scroller_prev(jQuery(this).closest(".dslca-section").find(".dslca-section-scroller"))});jQuery(document).on("click",".dslca-section-scroller-next",function(a){a.preventDefault();dslc_scroller_next(jQuery(this).closest(".dslca-section").find(".dslca-section-scroller"))})}jQuery(document).ready(function(a){dslc_scroller_inputevents()});jQuery(window).load(function(){dslc_scroller_init();jQuery(window).resize(function(){dslc_scroller_init()})});DSLC.Editor.CSectionsContainer=function(a){this.sortable=Sortable.create(a,{group:"sections",animation:150,handle:".dslca-move-modules-section-hook",draggable:".dslc-modules-section",chosenClass:"dslca-section-dragging",sort:true,scroll:true,scrollSensitivity:150,scrollSpeed:15,setData:function(a,b){a.setData("text/html",b.innerHTML)},onStart:function(a){a.oldIndex;jQuery("body").removeClass("dslca-drag-not-in-progress").addClass("dslca-drag-in-progress")},onEnd:function(a){a.oldIndex;a.newIndex;a.preventDefault();dslc_generate_code();jQuery("body").removeClass("dslca-drag-in-progress").addClass("dslca-drag-not-in-progress")},onAdd:function(a){var b=a.item;a.from},onUpdate:function(a){var b=a.item;dslc_show_publish_button()},onSort:function(a){},onRemove:function(a){},onFilter:function(a){var b=a.item},onMove:function(a){a.dragged;a.draggedRect;a.related;a.relatedRect}})};jQuery(document).ready(function(a){dslc_module_options_tooltip();dslc_module_options_font();dslc_module_options_icon();dslc_module_options_icon_returnid();dslc_module_options_text_align();dslc_module_options_checkbox();dslc_module_options_box_shadow();dslc_module_options_text_shadow();var b="";b+=".dslca-module-edit-field-colorpicker";b+=", .dslca-modules-section-edit-field-colorpicker";b+=", .dslca-module-edit-option-box-shadow-color";b+=", .dslca-module-edit-option-text-shadow-color";jQuery(document).on("click",b,function(){dslc_module_options_color(this);jQuery(this).next().click()});jQuery(".dslca-container").on("hover",".dslca-module-edit-option-slider .dslca-module-edit-field-numeric",function(){dslc_module_options_numeric(this)});jQuery(".dslca-container").on("hover",".dslca-modules-section-edit-option-slider .dslca-modules-section-edit-field",function(){dslc_module_options_numeric(this)});jQuery(".dslca-module-edit-form").submit(function(a){a.preventDefault();dslc_module_output_altered()});a(document).on("click",".dslca-module-edit-options-tab-hook",function(){dslc_module_options_tab_filter(a(this))});a(document).on("click",".dslca-options-filter-hook",function(b){var c=jQuery(".dslca-options-filter-hook.dslca-active").data("section");a(".dslca-options-filter-hook.dslca-active").removeClass("dslca-active");a(this).addClass("dslca-active");var d=jQuery(this).data("section");dslc_module_options_section_filter(d);if(c=="responsive"){jQuery(".dslca-container-loader").show();DSLC.Editor.frameContext.dslc_responsive_classes();dslc_module_output_altered(function(){jQuery(".dslca-container-loader").hide()});jQuery("#page-builder-preview-area").resizable("destroy").css("width","inherit")}if(d=="responsive"){jQuery("#page-builder-preview-area").resizable()}});jQuery(document).on("click",".dslca-module-edit-save",function(){dslc_module_options_confirm_changes(function(){DSLC.Editor.clearUtils();DSLC.Editor.unloadOptionsDeps()});jQuery(".dslca-options-filter-hook.dslca-active").removeClass("dslca-active");dslc_disable_responsive_view()});jQuery(document).on("click",".dslca-module-edit-cancel",function(){dslc_module_options_cancel_changes(function(){DSLC.Editor.clearUtils();DSLC.Editor.unloadOptionsDeps()});jQuery(".dslca-options-filter-hook.dslca-active").removeClass("dslca-active");dslc_disable_responsive_view()});jQuery(document).on("click",".dslca-module-edit-field-icon-switch-set",function(){var a=jQuery(".dslca-module-edit-field-icon-switch-sets");var b=jQuery(this);jQuery(".dslca-module-edit-field-icon-switch-set.dslca-active").removeClass("dslca-active");b.addClass("dslca-active");if(a.is(":visible")){jQuery(".dslca-module-edit-field-icon-switch-sets").hide()}else{var c=b.find(".dslca-module-edit-field-icon-curr-set").text();jQuery(".dslca-module-edit-field-icon-switch-sets span.dslca-active").removeClass("dslca-active");jQuery('.dslca-module-edit-field-icon-switch-sets span[data-set="'+c+'"]').addClass("dslca-active");var d=b.offset(),e=a.outerHeight(),f=a.outerWidth(),g=d.left-f/2+6,h="50%";if(g<0){h=f/2+g+"px";g=0}jQuery(".dslca-module-edit-field-icon-switch-sets").show().css({top:d.top-e-20,left:g});jQuery("head").append(jQuery("<style>.dslca-module-edit-field-icon-switch-sets:after, .dslca-module-edit-field-icon-switch-sets:before { left: "+h+" }</style>"))}});jQuery(document).on("click",".dslca-module-edit-field-icon-switch-sets span",function(){var b=a(this).data("set");dslcIconsCurrentSet=DSLCIcons[b];a('.dslca-open-modal-hook[data-modal^=".dslc-list-icons"]').data("modal",".dslc-list-icons-"+b);a(this).addClass("dslca-active").siblings(".dslca-active").removeClass("dslca-active");a(".dslca-module-edit-field-icon-switch-set.dslca-active .dslca-module-edit-field-icon-curr-set").text(b);a(".dslca-module-edit-field-icon-switch-set.dslca-active").closest(".dslca-module-edit-option").find(".dslca-module-edit-field-icon-next").trigger("click");a(".dslca-module-edit-field-icon-switch-sets").hide()});jQuery(document).on("mouseenter",".dslca-module-edit-option-icon",function(){var b=a(this).find(".dslca-module-edit-field-icon-curr-set").text();dslcIconsCurrentSet=DSLCIcons[b];a('.dslca-open-modal-hook[data-modal^=".dslc-list-icons"]').data("modal",".dslc-list-icons-"+b)})});(function(){var a=jQuery;var b=DSLC.Editor;DSLC.Editor.colorpickers=[];DSLC.Editor.mediumEditors=[];DSLC.Editor.initMediumEditor=function(){jQuery(".dslca-editable-content.medium-editor",DSLC.Editor.frame).each(function(){if(undefined===jQuery(this).data("medium-editor-element")){jQuery(this).attr("contenteditable","true");var a=DSLC.Editor.frameContext.DSLC_Iframe.initMediumEditor(this);b.mediumEditors.push(a)}})};DSLC.Editor.clearUtils=function(){if(Array.isArray(b.colorpickers)){b.colorpickers.forEach(function(a){a.spectrum("destroy")});b.colorpickers=[]}if(Array.isArray(b.mediumEditors)){b.mediumEditors.forEach(function(a){a.destroy();jQuery(a.origElements).attr("contenteditable",true)});b.mediumEditors=[]}jQuery(".sp-container").remove()};DSLC.Editor.depsHandlers=[];DSLC.Editor.loadOptionsDeps=function(){var b=this;a(".dslca-module-edit-option").each(function(){var c=this;var d=true;try{var e=JSON.parse(DSLC_Util.b64_to_utf8(a(this).data("dep")))}catch(f){d=false}if(d){var g=function(){var b=this;var c={};if((b.type=="radio"||b.type=="checkbox")&&e[b.value]==undefined){return false}if(b.type=="checkbox"&&e[b.value]!=undefined){c[b.value]=e[b.value]}else{c=e}Object.keys(c).forEach(function(d){c[d].split(",").forEach(function(c){var e=a(".dslca-module-edit-option-"+c.trim()).closest(".dslca-module-edit-option");var f=true;if(b.type=="radio"||b.type=="checkbox"){f=a(b).is(":checked")}if(b.value==d&&f){e.show()}else{e.hide()}dslc_scroller_init()})})};a(document).on("change dslc-init-deps",'.dslca-module-edit-option *[data-id="'+a(this).data("id")+'"]',g);b.depsHandlers.push(g)}});a(".dslca-module-edit-option input, .dslca-module-edit-option select").trigger("dslc-init-deps")};DSLC.Editor.unloadOptionsDeps=function(){this.depsHandlers.forEach(function(b){a(document).unbind("change",b);a(document).unbind("dslc-init-deps",b)});this.depsHandlers=[]}})();function dslc_module_options_section_filter(a){if(dslcDebug)console.log("dslc_module_options_section_filter");jQuery(".dslca-module-edit-option").hide();jQuery('.dslca-module-edit-option[data-section="'+a+'"]').show();dslc_module_options_tab_filter()}function dslc_module_options_tab_filter(a){if(dslcDebug)console.log("dslc_module_options_tab_filter");var b=jQuery(".dslca-options-filter-hook.dslca-active").data("section");a=typeof a!=="undefined"?a:jQuery('.dslca-module-edit-options-tab-hook[data-section="'+b+'"]:first');var c=a.data("id");jQuery(".dslca-module-edit-options-tab-hook").removeClass("dslca-active");a.addClass("dslca-active");jQuery(".dslca-module-edit-options-tabs").show();jQuery(".dslca-module-edit-options-tab-hook").hide();jQuery('.dslca-module-edit-options-tab-hook[data-section="'+b+'"]').show();if(c){jQuery(".dslca-module-edit-option").hide();jQuery('.dslca-module-edit-option[data-tab="'+c+'"]').show();dslc_module_options_hideshow_tabs();if(jQuery(".dslca-module-edit-options-tab-hook:visible").length<2){jQuery(".dslca-module-edit-options-tabs").hide()}else{jQuery(".dslca-module-edit-options-tabs").show()}dslc_disable_responsive_view();if(c==DSLCString.str_res_tablet.toLowerCase()+"_responsive"){jQuery("body").removeClass("dslc-res-big dslc-res-smaller-monitor dslc-res-phone dslc-res-tablet");jQuery("body").addClass("dslc-res-tablet");jQuery("html").addClass("dslc-responsive-preview")}if(c==DSLCString.str_res_phone.toLowerCase()+"_responsive"){jQuery("body").removeClass("dslc-res-big dslc-res-smaller-monitor dslc-res-phone dslc-res-tablet");jQuery("body").addClass("dslc-res-phone");jQuery("html").addClass("dslc-responsive-preview")}if(c==DSLCString.str_res_tablet.toLowerCase()+"_responsive"||c==DSLCString.str_res_phone.toLowerCase()+"_responsive"){jQuery(".dslca-container-loader").show();dslc_module_output_altered(function(){jQuery(".dslca-container-loader").hide()})}}}function dslc_module_options_hideshow_tabs(){if(dslcDebug)console.log("dslc_module_options_hideshow_tabs");var a=jQuery(".dslca-options-filter-hook.dslca-active").data("section");if(a=="styling"){var b=jQuery(".dslca-module-edit"),c=true,d=true,e=true,f=true,g=true,h=true,i=true,j=true,k=true,l=true,m=true,n=true,o=true,p=true,q=true,r=true,s=true,t=true,u=true,v=true,w=true,x=true,y=true,z=true,A=true;if(!jQuery('.dslca-module-edit-field[value="main_heading"]').is(":checked"))c=false;if(!jQuery('.dslca-module-edit-field[value="filters"]').is(":checked"))d=false;if(!jQuery('.dslca-module-edit-field[value="arrows"]').is(":checked"))e=false;if(!jQuery('.dslca-module-edit-field[value="circles"]').is(":checked"))f=false;if(jQuery('.dslca-module-edit-field[data-id="type"]').val()!="carousel"){e=false;f=false}if(jQuery('.dslca-module-edit-field[data-id="pagination_type"]').val()=="disabled"){g=false}if(!jQuery('.dslca-module-edit-field[data-id*="elements"][value="thumbnail"]').is(":checked")){h=false}if(jQuery('.dslca-module-edit-field[data-id*="elements"][value="content"]').length&&!jQuery('.dslca-module-edit-field[data-id*="elements"][value="title"]').is(":checked")){i=false}if(!jQuery('.dslca-module-edit-field[data-id*="elements"][value="excerpt"]').is(":checked")){j=false}if(!jQuery('.dslca-module-edit-field[data-id*="elements"][value="meta"]').is(":checked")){k=false}if(jQuery('.dslca-module-edit-field[data-id*="elements"][value="button"]').length&&!jQuery('.dslca-module-edit-field[data-id*="elements"][value="button"]').is(":checked")){l=false}if(!jQuery('.dslca-module-edit-field[data-id*="elements"][value="categories"]').is(":checked")){m=false}if(!jQuery('.dslca-module-edit-field[data-id*="elements"][value="separator"]').is(":checked")){o=false}if(!jQuery('.dslca-module-edit-field[data-id*="elements"][value="count"]').is(":checked")){n=false}if(!jQuery('.dslca-module-edit-field[data-id*="elements"][value="tags"]').is(":checked")){p=false}if(!jQuery('.dslca-module-edit-field[data-id*="elements"][value="social"]').is(":checked")){q=false}if(!jQuery('.dslca-module-edit-field[data-id*="elements"][value="position"]').is(":checked")){r=false}if(jQuery('.dslca-module-edit-field[data-id*="elements"][value="icon"]').length&&!jQuery('.dslca-module-edit-field[data-id*="elements"][value="icon"]').is(":checked")){s=false}if(jQuery('.dslca-module-edit-field[data-id*="elements"][value="content"]').length&&!jQuery('.dslca-module-edit-field[data-id*="elements"][value="content"]').is(":checked")){t=false}if(!jQuery('.dslca-module-edit-field[data-id*="elements"][value="price"]').is(":checked")){u=false}if(!jQuery('.dslca-module-edit-field[data-id*="elements"][value="price_2"]').is(":checked")){v=false}if(!jQuery('.dslca-module-edit-field[data-id*="elements"][value="addtocart"]').is(":checked")){w=false}if(!jQuery('.dslca-module-edit-field[data-id*="elements"][value="details"]').is(":checked")){x=false}if(!jQuery('.dslca-module-edit-field[data-id*="elements"][value="quote"]').is(":checked")){y=false}if(!jQuery('.dslca-module-edit-field[data-id*="elements"][value="author_name"]').is(":checked")){z=false}if(!jQuery('.dslca-module-edit-field[data-id*="elements"][value="author_position"]').is(":checked")){A=false}if(c)jQuery('.dslca-module-edit-options-tab-hook[data-id="heading_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="heading_styling"]').hide();if(d)jQuery('.dslca-module-edit-options-tab-hook[data-id="filters_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="filters_styling"]').hide();if(e)jQuery('.dslca-module-edit-options-tab-hook[data-id="carousel_arrows_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="carousel_arrows_styling"]').hide();if(f)jQuery('.dslca-module-edit-options-tab-hook[data-id="carousel_circles_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="carousel_circles_styling"]').hide();if(g)jQuery('.dslca-module-edit-options-tab-hook[data-id="pagination_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="pagination_styling"]').hide();if(h)jQuery('.dslca-module-edit-options-tab-hook[data-id="thumbnail_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="thumbnail_styling"]').hide();if(i)jQuery('.dslca-module-edit-options-tab-hook[data-id="title_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="title_styling"]').hide();if(j)jQuery('.dslca-module-edit-options-tab-hook[data-id="excerpt_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="excerpt_styling"]').hide();if(k)jQuery('.dslca-module-edit-options-tab-hook[data-id="meta_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="meta_styling"]').hide();if(l)jQuery('.dslca-module-edit-options-tab-hook[data-id="button_styling"], .dslca-module-edit-options-tab-hook[data-id="primary_button_styling"],'+' .dslca-module-edit-options-tab-hook[data-id="secondary_button_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="button_styling"], .dslca-module-edit-options-tab-hook[data-id="primary_button_styling"],'+' .dslca-module-edit-options-tab-hook[data-id="secondary_button_styling"]').hide();if(m)jQuery('.dslca-module-edit-options-tab-hook[data-id="categories_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="categories_styling"]').hide();if(o)jQuery('.dslca-module-edit-options-tab-hook[data-id="separator_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="separator_styling"]').hide();if(n)jQuery('.dslca-module-edit-options-tab-hook[data-id="count_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="count_styling"]').hide();if(p)jQuery('.dslca-module-edit-options-tab-hook[data-id="tags_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="tags_styling"]').hide();if(r)jQuery('.dslca-module-edit-options-tab-hook[data-id="position_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="position_styling"]').hide();if(q)jQuery('.dslca-module-edit-options-tab-hook[data-id="social_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="social_styling"]').hide();if(s)jQuery('.dslca-module-edit-options-tab-hook[data-id="icon_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="icon_styling"]').hide();if(t)jQuery('.dslca-module-edit-options-tab-hook[data-id="content_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="content_styling"]').hide();if(u)jQuery('.dslca-module-edit-options-tab-hook[data-id="price_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="price_styling"]').hide();if(v)jQuery('.dslca-module-edit-options-tab-hook[data-id="price_secondary_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="price_secondary_styling"]').hide();if(w||x)jQuery('.dslca-module-edit-options-tab-hook[data-id="other_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="other_styling"]').hide();if(y)jQuery('.dslca-module-edit-options-tab-hook[data-id="quote_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="quote_styling"]').hide();if(z)jQuery('.dslca-module-edit-options-tab-hook[data-id="author_name_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="author_name_styling"]').hide();if(A)jQuery('.dslca-module-edit-options-tab-hook[data-id="author_position_styling"]').show();else jQuery('.dslca-module-edit-options-tab-hook[data-id="author_position_styling"]').hide()}if(jQuery('.dslca-options-filter-hook[data-section="styling"]').hasClass("dslca-active")){if(jQuery(".dslca-module-being-edited",DSLC.Editor.frame).data("dslc-module-id")=="DSLC_Text_Simple"||jQuery(".dslca-module-being-edited",DSLC.Editor.frame).data("dslc-module-id")=="DSLC_TP_Content"||jQuery(".dslca-module-being-edited",DSLC.Editor.frame).data("dslc-module-id")=="DSLC_Html"){var B=jQuery('.dslca-module-edit-option[data-id="css_custom"]'),C=B.find("select").val();if(C=="enabled"){jQuery('.dslca-module-edit-option[data-section="styling"]').css({visibility:"visible"});jQuery(".dslca-module-edit-options-tabs").show()}else{jQuery('.dslca-module-edit-option[data-section="styling"]').css({visibility:"hidden"});jQuery(".dslca-module-edit-options-tabs").hide();B.css({visibility:"visible"})}}}else{jQuery(".dslca-module-edit-options-tabs").show()}if(jQuery('select.dslca-module-edit-field[data-id="css_res_t"]').val()=="disabled"){jQuery('.dslca-module-edit-option[data-id*="css_res_t"]').css("visibility","hidden")}else{jQuery('.dslca-module-edit-option[data-id*="css_res_t"]').css("visibility","visible")}if(jQuery('select.dslca-module-edit-field[data-id="css_res_p"]').val()=="disabled"){jQuery('.dslca-module-edit-option[data-id*="css_res_p"]').css("visibility","hidden")}else{jQuery('.dslca-module-edit-option[data-id*="css_res_p"]').css("visibility","visible")}jQuery('.dslca-module-edit-option[data-id="css_res_p"], .dslca-module-edit-option[data-id="css_res_t"]').css("visibility","visible")}function dslc_module_options_confirm_changes(a){if(dslcDebug)console.log("dslc_module_options_confirm_changes");a=typeof a!=="undefined"?a:false;if(jQuery(".dslca-module-being-edited",DSLC.Editor.frame).hasClass("dslc-module-DSLC_Sliders")){jQuery(".dslca-module-being-edited",DSLC.Editor.frame).removeClass("dslca-module-being-edited")}else{jQuery("body").addClass("dslca-module-saving-in-progress");dslc_module_output_altered(function(){dslc_update_preset();jQuery(".dslca-module-being-edited",DSLC.Editor.frame).removeClass("dslca-module-being-edited");jQuery("body").removeClass("dslca-module-saving-in-progress");if(!jQuery("body").hasClass("rtl")){jQuery(".dslca-module-edit-options-inner").html("")}else{jQuery(".dslca-module-edit-options-inner").html("")}jQuery(".dslca-module-edit-options-tabs").html("");if(a){a()}})}dslc_show_section(".dslca-modules");jQuery(".dslca-header .dslca-options-filter-hook").hide();jQuery(".dslca-module-edit-actions").hide();jQuery(".dslca-header .dslca-go-to-section-hook").show();dslc_generate_code();dslc_show_publish_button()}function dslc_module_options_cancel_changes(a){if(dslcDebug)console.log("dslc_module_options_cancel_changes");a=typeof a!=="undefined"?a:false;var b=jQuery(".dslca-module-being-edited",DSLC.Editor.frame);jQuery(".dslca-module-options-front",b).html("").append(DSLC.Editor.moduleBackup);DSLC.Editor.moduleBackup=false;dslc_module_output_altered(function(){jQuery(".dslca-module-being-edited",DSLC.Editor.frame).removeClass("dslca-module-being-edited");if(!jQuery("body").hasClass("rtl")){jQuery(".dslca-module-edit-options-inner").html("")}else{jQuery(".dslca-module-edit-options-inner").html("")}jQuery(".dslca-module-edit-options-tabs").html("");if(a){a()}});dslc_show_section(".dslca-modules");jQuery(".dslca-header .dslca-options-filter-hook").hide();jQuery(".dslca-module-edit-actions").hide();jQuery(".dslca-header .dslca-go-to-section-hook").show();dslc_show_publish_button()}function dslc_module_options_tooltip(){jQuery(document).on("click",".dslca-module-edit-field-ttip-close",function(){jQuery(".dslca-module-edit-field-ttip, .dslca-module-edit-field-icon-ttip").hide()});jQuery(document).on("click",".dslca-module-edit-field-ttip-hook",function(){var a=jQuery(".dslca-module-edit-field-ttip"),b=a.find(".dslca-module-edit-field-ttip-inner"),c=jQuery(this),d=c.closest(".dslca-module-edit-option").find(".dslca-module-edit-field-ttip-content").html();if(a.is(":visible")){jQuery(".dslca-module-edit-field-ttip").hide()}else{b.html(d);var e=c.offset();var f=a.outerHeight();var g=a.outerWidth();var h=e.left-g/2+6;var i="50%";if(h<0){i=g/2+h+"px";h=0}jQuery(".dslca-module-edit-field-ttip").show().css({top:e.top-f-20,left:h});jQuery("head").append(jQuery("<style>.dslca-module-edit-field-ttip:after, .dslca-module-edit-field-ttip:before { left: "+i+" }</style>"))}});jQuery(document).on("click",".dslca-module-edit-field-icon-ttip-hook",function(){var a=jQuery(".dslca-module-edit-field-icon-ttip");var b=jQuery(this);if(a.is(":visible")){jQuery(".dslca-module-edit-field-icon-ttip").hide()}else{var c=b.offset();var d=a.outerHeight();var e=a.outerWidth();var f=c.left-e/2+6;var g="50%";if(f<0){g=e/2+f+"px";f=0}jQuery(".dslca-module-edit-field-icon-ttip").show().css({top:c.top-d-20,left:f});jQuery("head").append(jQuery("<style>.dslca-module-edit-field-icon-ttip:after, .dslca-module-edit-field-icon-ttip:before { left: "+g+" }</style>"))}})}function dslc_module_options_font(){jQuery(document).on("click",".dslca-module-edit-field-font-next",function(a){a.preventDefault();if(!jQuery(this).hasClass("dslca-font-loading")&&!jQuery(this).siblings(".dslca-font-loading").length){var b=jQuery(this).closest(".dslca-module-edit-option-font");var c=jQuery(".dslca-module-edit-field-font",b);var d=dslcAllFontsArray.indexOf(c.val());var e=d+1;jQuery(".dslca-module-edit-field-font-suggest",b).text("");c.val(dslcAllFontsArray[e]).trigger("change");jQuery(this).addClass("dslca-font-loading").find(".dslca-icon").removeClass("dslc-icon-chevron-right").addClass("dslc-icon-refresh dslc-icon-spin")}});jQuery(document).on("click",".dslca-module-edit-field-font-prev",function(a){a.preventDefault();if(!jQuery(this).hasClass("dslca-font-loading")&&!jQuery(this).siblings(".dslca-font-loading").length){var b=jQuery(this).closest(".dslca-module-edit-option-font");var c=jQuery(".dslca-module-edit-field-font",b);var d=dslcAllFontsArray.indexOf(c.val());var e=d-1;jQuery(".dslca-module-edit-field-font-suggest",b).text("");if(e<0){e=dslcAllFontsArray.length-1}c.val(dslcAllFontsArray[e]).trigger("change");jQuery(this).addClass("dslca-font-loading").find(".dslca-icon").removeClass("dslc-icon-chevron-left").addClass("dslc-icon-refresh dslc-icon-spin")}});jQuery(document).on("keyup",".dslca-module-edit-field-font",function(a){var b,c,d,e=false,f;b=jQuery(this);c=b.closest(".dslca-module-edit-option");if(a.which==38){jQuery(".dslca-module-edit-field-font-prev",c).click()}if(a.which==40){jQuery(".dslca-module-edit-field-font-next",c).click()}if(a.which!=13&&a.which!=38&&a.which!=40){d=b.val();var g=[];var h=new RegExp("^"+d,"i");var i=dslcAllFontsArray.length;var j=0;do{if(h.test(dslcAllFontsArray[j])){if(!e){var e=dslcAllFontsArray[j]}}j++}while(j<i);if(!e){f=d;jQuery(".dslca-module-edit-field-font-suggest",c).hide()}else{f=e;jQuery(".dslca-module-edit-field-font-suggest",c).show()}jQuery(".dslca-module-edit-field-font-suggest",c).text(f);if(f.length){b.val(f.substring(0,b.val().length))}}});jQuery(document).on("keypress",".dslca-module-edit-field-font",function(a){if(a.which==13){a.preventDefault();var b,c,d,e,f;b=jQuery(this);c=b.closest(".dslca-module-edit-option");jQuery(this).val(jQuery(".dslca-module-edit-field-font-suggest",c).text()).trigger("change");jQuery(".dslca-module-edit-field-font-suggest",c).text("")}})}function dslc_list_icon(a,b){var c=jQuery(a).closest(".dslca-module-edit-option-icon");var d=jQuery(".dslca-module-edit-field-icon",c);var e=dslcIconsCurrentSet.indexOf(d.val());if(b=="previous"){var f=e-1}else{var f=e+1}jQuery(".dslca-module-edit-field-icon-suggest",c).text("");if(f<0){f=dslcIconsCurrentSet.length-1}d.val(dslcIconsCurrentSet[f]).trigger("change")}function dslc_module_options_icon(){jQuery(document).on("keyup",".dslca-module-edit-field-icon",function(a){var b,c,d,e,f;b=jQuery(this);c=b.closest(".dslca-module-edit-option");if(a.which==38){dslc_list_icon(b,"previous")}if(a.which==40){dslc_list_icon(b,"next")}if(a.which!=13&&a.which!=38&&a.which!=40){d=b.val().toLowerCase();b.val(d);e=jQuery.grep(dslcIconsCurrentSet,function(a,b){return a.indexOf(d)==0});f=e[0];jQuery(".dslca-module-edit-field-icon-suggest",c).text(f)}});jQuery(document).on("keypress",".dslca-module-edit-field-icon",function(a){if(a.which==13){a.preventDefault();var b,c,d,e,f;b=jQuery(this);c=b.closest(".dslca-module-edit-option");jQuery(this).val(jQuery(".dslca-module-edit-field-icon-suggest",c).text()).trigger("change");jQuery(".dslca-module-edit-field-icon-suggest",c).text("")}})}function dslc_module_options_icon_returnid(){jQuery(document).on("click",'.dslca-open-modal-hook[data-modal^=".dslc-list-icons"]',function(a){jQuery(this).closest(".dslca-module-edit-option-icon").find("input").addClass("icon-modal-active")});jQuery(document).on("click",".dslca-modal-icons .icon-item",function(a){var b=jQuery(this).find(".icon-item_name").text();jQuery("input.icon-modal-active").val(b).change();dslc_hide_modal("",jQuery(".dslca-modal:visible"));jQuery("input.icon-modal-active").removeClass("icon-modal-active")})}function dslc_module_options_text_align(){jQuery(document).on("click",".dslca-module-edit-option-text-align-hook",function(){var a=jQuery(this),b=jQuery(this).closest(".dslca-module-edit-option-text-align-wrapper").find(".dslca-module-edit-option-text-align-hook"),c=a.data("val"),d=jQuery(this).closest(".dslca-module-edit-option-text-align-wrapper").siblings("input.dslca-module-edit-field");b.removeClass("dslca-active");a.addClass("dslca-active");d.val(c).trigger("change")})}function dslc_module_options_checkbox(){jQuery(document).on("click",".dslca-module-edit-option-checkbox-hook, .dslca-modules-section-edit-option-checkbox-hook",function(){var a=jQuery(this);var b=a.siblings('input[type="checkbox"]');if(b.prop("checked")){b.prop("checked",false);a.find(".dslca-icon").removeClass("dslc-icon-check").addClass("dslc-icon-check-empty")}else{b.prop("checked",true);a.find(".dslca-icon").removeClass("dslc-icon-check-empty").addClass("dslc-icon-check")}b.change()})}function dslc_module_options_box_shadow(){if(dslcDebug)console.log("dslc_module_options_box_shadow");jQuery(document).on("change",".dslca-module-edit-option-box-shadow-hor, "+".dslca-module-edit-option-box-shadow-ver, .dslca-module-edit-option-box-shadow-blur, .dslca-module-edit-option-box-shadow-spread,"+" .dslca-module-edit-option-box-shadow-color, .dslca-module-edit-option-box-shadow-inset",function(){var a=jQuery(this).closest(".dslca-module-edit-option"),b=a.find(".dslca-module-edit-field"),c=a.find(".dslca-module-edit-option-box-shadow-hor").val(),d=a.find(".dslca-module-edit-option-box-shadow-ver").val(),e=a.find(".dslca-module-edit-option-box-shadow-blur").val(),f=a.find(".dslca-module-edit-option-box-shadow-spread").val(),g=a.find(".dslca-module-edit-option-box-shadow-color").val(),h=a.find(".dslca-module-edit-option-box-shadow-inset").is(":checked");if(h){h=" inset"}else{h=""}var i=c+"px "+d+"px "+e+"px "+f+"px "+g+h;b.val(i).trigger("change")})}function dslc_module_options_text_shadow(){if(dslcDebug)console.log("dslc_module_options_text_shadow");jQuery(document).on("change",".dslca-module-edit-option-text-shadow-hor, .dslca-module-edit-option-text-shadow-ver,"+".dslca-module-edit-option-text-shadow-blur, .dslca-module-edit-option-text-shadow-color",function(){var a=jQuery(this).closest(".dslca-module-edit-option"),b=a.find(".dslca-module-edit-field"),c=a.find(".dslca-module-edit-option-text-shadow-hor").val(),d=a.find(".dslca-module-edit-option-text-shadow-ver").val(),e=a.find(".dslca-module-edit-option-text-shadow-blur").val(),f=a.find(".dslca-module-edit-option-text-shadow-color").val();var g=c+"px "+d+"px "+e+"px "+f;b.val(g).trigger("change")})}function dslc_module_options_color(a){if(dslcDebug)console.log("dslc_module_options_color");var b,c,d,e,f,g,h;var i=[],j,k;i[0]=[];i[1]=[];i[2]=[];i[3]=[];if(localStorage["dslcColorpickerPalleteStorage"]==undefined){}else{j=JSON.parse(localStorage["dslcColorpickerPalleteStorage"]);for(k=0;k<j.length;k++){var l=Math.floor(k/3);if(l<4){i[l].push(j[k])}}}var m=a;jQuery(m).each(function(){h=jQuery(this).val();jQuery(this).spectrum({color:h,showInput:true,allowEmpty:true,showAlpha:true,clickoutFiresChange:true,cancelText:"",chooseText:"",preferredFormat:"rgb",showPalette:true,palette:i,move:function(a){b=jQuery(this);if(a==null){e=""}else{e=a.toRgbString().replace(/ /g,"")}b.val(e).trigger("change");b.css("background",e);c=b.data("affect-on-change-el");d=b.data("affect-on-change-rule");if(null!=c){jQuery(c,".dslca-module-being-edited").css(d,e)}f=jQuery(".dslca-module-being-edited",DSLC.Editor.frame);g=b.data("id");jQuery('.dslca-module-option-front[data-id="'+g+'"]',f).val(e);f.addClass("dslca-module-change-made")},change:function(a){b=jQuery(this);if(a==null){e=""}else{e=a.toRgbString().replace(/ /g,"")}b.val(e).trigger("change");c=b.data("affect-on-change-el");d=b.data("affect-on-change-rule");if(null!=c){jQuery(c,".dslca-module-being-edited").css(d,e)}f=jQuery(".dslca-module-being-edited",DSLC.Editor.frame);g=b.data("id");jQuery('.dslca-module-option-front[data-id="'+g+'"]',f).val(e);f.addClass("dslca-module-change-made");if(localStorage["dslcColorpickerPalleteStorage"]==undefined){var h=[e];localStorage["dslcColorpickerPalleteStorage"]=JSON.stringify(h)}else{var h=JSON.parse(localStorage["dslcColorpickerPalleteStorage"]);if(h.indexOf(e)==-1){h.unshift(e)}localStorage["dslcColorpickerPalleteStorage"]=JSON.stringify(h)}},show:function(a){jQuery("body").addClass("dslca-disable-selection")},hide:function(){jQuery("body").removeClass("dslca-disable-selection")}});DSLC.Editor.colorpickers.push(jQuery(this))});jQuery(".dslca-sp-revert").click(function(){var a=jQuery(".sp-replacer.sp-active").closest(".dslca-module-edit-option").find(".dslca-module-edit-field").data("default");jQuery(this).closest(".sp-container").find(".sp-input").val(a).trigger("change")})}function dslc_module_options_numeric(a){var b=jQuery;if(dslcDebug)console.log("dslc_module_options_numeric");var c=a||".dslca-module-edit-option-slider .dslca-module-edit-field-numeric";jQuery(c).each(function(){if(this.classList.contains("slider-initiated"))return;var a=false;var c=false;var d=0;var e=this;var f=0;var g=parseFloat(jQuery(this).data("max"))>0?parseFloat(b(this).data("max")):2e3;var h=parseFloat(jQuery(this).data("min"))>-2e3?parseFloat(b(this).data("min")):0;var i=parseFloat(jQuery(this).data("increment"))>0?parseFloat(b(this).data("increment")):1;var j,k,l,m,n,o,p,q,r,s,t,u,v;e.classList.add("slider-initiated");jQuery(e).keyup(function(a){if(a.shiftKey){if(a.keyCode==38){this.value=(parseInt(this.value)||0)+9;jQuery(this).trigger("change")}if(a.keyCode==40){this.value=parseInt(this.value)+0-9;jQuery(this).trigger("change");
}}if(a.keyCode==8||a.keyCode==45){jQuery(this).trigger("change")}if(a.keyCode>=48&&a.keyCode<=57||a.keyCode>=96&&a.keyCode<=105){jQuery(this).trigger("change")}if(!a.key.match(/\d/)&&a.keyCode!=8&&a.keyCode!=39&&a.keyCode!=37&&a.keyCode!=46){return false}});jQuery(e).unbind("change");jQuery(e).change(function(a){if(this.value>g){this.value=g}if(this.value<h){this.value=h}s=jQuery(".dslca-module-being-edited",DSLC.Editor.frame);s.addClass("dslca-module-change-made")});jQuery(document).mouseup(function(){a=false});jQuery(e).mousedown(function(b){a=parseFloat(b.pageX);d=parseFloat(e.value&&e.value!=""?e.value:0);f=0});jQuery(".dslca-module-edit-form").mousemove(function(b){if(a!==false){b=b||window.event;var c=b.clientX;var d=c-f;if(0<d){e.value=Math.round((parseFloat(e.value)+i)*100)/100}else{e.value=Math.round((parseFloat(e.value)-i)*100)/100}f=c;jQuery(e).trigger("change")}});return false})}function dslc_disable_responsive_view(){jQuery("html").removeClass("dslc-responsive-preview");jQuery("body").removeClass("dslc-res-big dslc-res-smaller-monitor dslc-res-phone dslc-res-tablet")}function dslc_filter_module_options(a){dslc_module_options_section_filter(a)}function dslc_show_module_options_tab(a){dslc_module_options_tab_filter(a)}function dslc_confirm_changes(a){dslc_module_options_confirm_changes(a)}function dslc_cancel_changes(a){dslc_module_options_cancel_changes(a)}function dslc_init_colorpicker(){dslc_module_options_color()}function dslc_init_options_slider(){dslc_module_options_numeric()}function dslc_module_edit_options_hideshow_tabs(){dslc_module_options_hideshow_tabs()}function dslc_template_load(a){if(dslcDebug)console.log("dslc_load_template");var b,c;jQuery.post(DSLCAjax.ajaxurl,{action:"dslc-ajax-load-template",dslc:"active",dslc_template_id:a},function(a){jQuery("#dslc-main",DSLC.Editor.frame).html(a.output);DSLC.Editor.frameContext.dslc_carousel();dslc_drag_and_drop();dslc_show_publish_button();dslc_generate_code()})}function dslc_template_import(){if(dslcDebug)console.log("dslc_import_template");var a,b;jQuery(".dslca-modal-templates-import .dslca-modal-title").css({opacity:0});jQuery(".dslca-modal-templates-import .dslca-loading").show();jQuery.post(DSLCAjax.ajaxurl,{action:"dslc-ajax-import-template",dslc:"active",dslc_template_code:jQuery("#dslca-import-code").val()},function(a){jQuery("#dslc-main",DSLC.Editor.frame).html(a.output);jQuery(".dslca-modal-templates-import .dslca-loading").hide();jQuery(".dslca-modal-templates-import .dslca-modal-title").css({opacity:1});dslc_hide_modal("",".dslca-modal-templates-import");DSLC.Editor.frameContext.dslc_bg_video();dslc_drag_and_drop();dslc_show_publish_button();dslc_generate_code()})}function dslc_template_save(){if(dslcDebug)console.log("dslc_save_template");jQuery.post(DSLCAjax.ajaxurl,{action:"dslc-ajax-save-template",dslc:"active",dslc_template_code:jQuery("#dslca-code").val(),dslc_template_title:jQuery("#dslca-save-template-title").val()},function(a){dslc_hide_modal("",".dslca-modal-templates-save")})}function dslc_template_delete(a){if(dslcDebug)console.log("dslc_delete_template");jQuery.post(DSLCAjax.ajaxurl,{action:"dslc-ajax-delete-template",dslc:"active",dslc_template_id:a},function(b){jQuery('.dslca-template[data-id="'+a+'"]').fadeOut(200,function(){jQuery(this).remove()})})}function dslc_load_template(a){dslc_template_load(a)}function dslc_import_template(){dslc_template_import()}function dslc_save_template(){dslc_template_save()}function dslc_delete_template(a){dslc_template_delete(a)}jQuery(document).ready(function(a){jQuery(document).on("click",".dslca-template",function(){dslc_template_load(jQuery(this).data("id"))});a(".dslca-template-import-form").submit(function(a){a.preventDefault();dslc_template_import()});a(".dslca-template-save-form").submit(function(a){a.preventDefault();dslc_template_save()});a(document).on("click",".dslca-delete-template-hook",function(b){b.stopPropagation();dslc_template_delete(a(this).data("id"))})});jQuery(document).ready(function(a){jQuery("#page-builder-frame").on("load",function(){var a=this;DSLC.Editor.frameContext=this.contentWindow;DSLC.Editor.frame=jQuery(this).contents();jQuery("#wpadminbar",DSLC.Editor.frame).remove();jQuery("body",DSLC.Editor.frame).addClass("dslca-enabled dslca-drag-not-in-progress");DSLC.Editor.initMediumEditor();dslc_fix_contenteditable();var b=DSLC.Editor.frame.find("#dslc-main").eq(0)[0];new DSLC.Editor.CSectionsContainer(b);jQuery(document).trigger("editorFrameLoaded");dslc_drag_and_drop();dslc_generate_code()});jQuery("body").addClass("dslca-enabled dslca-drag-not-in-progress");jQuery(".dslca-invisible-overlay").hide();jQuery(".dslca-section").eq(0).show()});jQuery(document).on("click",".dslca-currently-editing",function(){var a=false,b=false,c;if(jQuery(".dslca-module-being-edited",DSLC.Editor.frame).length){a=jQuery(".dslca-module-being-edited",DSLC.Editor.frame);c="#5890e5"}else if(jQuery(".dslca-modules-section-being-edited",DSLC.Editor.frame).length){a=jQuery(".dslca-modules-section-being-edited",DSLC.Editor.frame);c="#eabba9"}if(a){b=a.offset().top-100;if(b<0){b=0}var d=[];jQuery("html, body",DSLC.Editor.frame).animate({scrollTop:b},300,function(){a.removeAttr("style")})}});jQuery(document).on("click",".dslca-hide-composer-hook",function(){dslc_hide_composer()});jQuery(document).on("click",".dslca-show-composer-hook",function(){dslc_show_composer()});jQuery(document).on("click",".dslca-go-to-modules-hook",function(a){a.preventDefault();dslc_show_section(".dslca-modules")});jQuery(document).on("click",".dslca-go-to-section-hook",function(a){a.preventDefault();if(jQuery(this).hasClass("dslca-active")){return}var b=jQuery(this).data("section");dslc_show_section(b);if(jQuery(this).hasClass("dslca-go-to-section-modules")||jQuery(this).hasClass("dslca-go-to-section-templates")){jQuery(this).addClass("dslca-active").siblings(".dslca-go-to-section-hook").removeClass("dslca-active")}});jQuery(document).on("click",".dslca-close-composer-hook",function(a){a.preventDefault();if(!jQuery("body").hasClass("dslca-saving-in-progress")){dslc_js_confirm("disable_lc",'<span class="dslca-prompt-modal-title">'+DSLCString.str_exit_title+'</span><span class="dslca-prompt-modal-descr">'+DSLCString.str_exit_descr+"</span>",jQuery(this).attr("href"))}});jQuery(document).on("click",".dslca-submit",function(){jQuery(this).closest("form").submit()});jQuery(document).on("click",".dslca-section-title",function(a){a.stopPropagation();if(jQuery(".dslca-section-title-filter",this).length){dslc_generate_filters();jQuery(".dslca-section-title-filter-options").slideToggle(300)}});jQuery(document).on("click",".dslca-section-title-filter-options span",function(a){a.stopPropagation();var b=jQuery(this).data("origin");var c=jQuery(this).closest(".dslca-section");if(c.hasClass("dslca-templates-load")){jQuery(".dslca-section-title-filter-curr",c).text(jQuery(this).text())}else{jQuery(".dslca-section-title-filter-curr",c).text(jQuery(this).text())}jQuery(".dslca-section-scroller-inner").css({left:0});dslc_filter_origin(b,c);jQuery(".dslca-section-title-filter-options").slideToggle(300)});function dslc_hide_composer(){if(dslcDebug)console.log("dslc_hide_composer");jQuery(".dslca-hide-composer-hook").hide();jQuery(".dslca-show-composer-hook").show();jQuery("body").addClass("dslca-composer-hidden");jQuery(".dslca-container").css({bottom:jQuery(".dslca-container").outerHeight()*-1});jQuery(".dslca-header").hide()}function dslc_show_composer(){if(dslcDebug)console.log("dslc_show_composer");jQuery(".dslca-show-composer-hook").hide();jQuery(".dslca-hide-composer-hook").show();jQuery("body").removeClass("dslca-composer-hidden");jQuery(".dslca-container").css({bottom:0});jQuery(".dslca-header").show()}function dslc_show_publish_button(){if(dslcDebug)console.log("dslc_show_publish_button");jQuery(".dslca-save-composer").show().addClass("dslca-init-animation");jQuery(".dslca-save-draft-composer").show().addClass("dslca-init-animation")}function dslc_hide_publish_button(){if(dslcDebug)console.log("dslc_hide_publish_button");jQuery(".dslca-save-composer").hide();jQuery(".dslca-save-draft-composer").hide()}function dslc_show_section(a){if(dslcDebug)console.log("dslc_show_section");jQuery("body").addClass("dslca-anim-in-progress");var b=jQuery(a).data("title"),c=jQuery(a).data("bg");jQuery(".dslca-container").css({bottom:-500});jQuery(".dslca-section").hide();jQuery(a).show();if(a==".dslca-module-edit"){jQuery(".dslca-currently-editing").show().find("strong").text(jQuery(".dslca-module-being-edited",DSLC.Editor.frame).attr("title")+" element")}else if(a==".dslca-modules-section-edit"){jQuery(".dslca-currently-editing").show().css("background-color","#e5855f").find("strong").text("Row")}else{jQuery(".dslca-currently-editing").hide().find("strong").text("")}dslc_module_options_tab_filter();if(a!=".dslca-module-edit"){dslc_scroller_init()}setTimeout(function(){jQuery(".dslca-container").css({bottom:0})},300);jQuery("body").removeClass("dslca-anim-in-progress")}function dslc_generate_filters(){if(dslcDebug)console.log("dslc_generate_filters");var a,b=[],c='<span data-origin="">Show All</span>',d=jQuery(".dslca-section:visible .dslca-origin");d.each(function(){a=jQuery(this);if(jQuery.inArray(a.data("origin"),b)==-1){b.push(a.data("origin"));c+='<span data-origin="'+a.data("origin")+'">'+a.data("origin")+"</span>"}});jQuery(".dslca-section:visible .dslca-section-title-filter-options").html(c).css("background",jQuery(".dslca-section:visible").data("bg"))}function dslc_filter_origin(a,b){if(dslcDebug)console.log("dslc_filter_origin");jQuery(".dslca-origin",b).hide();jQuery('.dslca-origin[data-origin="'+a+'"]',b).show();if(a==""){jQuery(".dslca-origin",b).show()}dslc_scroller_init()}function dslc_drag_and_drop(){if(dslcDebug)console.log("dslc_drag_and_drop");var a,b,c,d;var e=jQuery(".dslca-modules .dslca-section-scroller-content");if(e.length==0){e=[document.createElement("div")]}var f=Sortable.create(e[0],{sort:false,group:{name:"modules",pull:"clone",put:false},animation:150,handle:".dslca-module",draggable:".dslca-module",chosenClass:"dslca-module-dragging",scroll:true,scrollSensitivity:150,scrollSpeed:15,setData:function(a,b){a.setData("text/html",b.innerHTML)},onStart:function(a){a.oldIndex;jQuery("body").removeClass("dslca-new-module-drag-not-in-progress").addClass("dslca-new-module-drag-in-progress");jQuery("#dslc-header").addClass("dslca-header-low-z-index")},onEnd:function(a){a.oldIndex;a.newIndex;var e=a.item;if(e.closest(".dslca-section-scroller-content"))return false;jQuery(".dslca-options-hovered",DSLC.Editor.frame).removeClass("dslca-options-hovered");b=jQuery(e.parentNode);c=e.dataset.id;dslc_generate_code();if(c=="DSLC_M_A"||jQuery("body").hasClass("dslca-module-drop-in-progress")||b.closest("#dslc-header").length||b.closest("#dslc-footer").length){}else{jQuery("body").addClass("dslca-anim-in-progress dslca-module-drop-in-progress");dslc_module_output_default(c,function(a){d=a.output;var c=jQuery(d).insertAfter(jQuery(".dslca-module",b));jQuery(".dslca-module",b).remove();setTimeout(function(){DSLC.Editor.frameContext.dslc_masonry(c);jQuery("body").removeClass("dslca-anim-in-progress dslca-module-drop-in-progress")},700);jQuery(".dslca-no-content-primary",b).css({opacity:1});jQuery(".dslca-modules-area-manage",b).css({visibility:"visible"});DSLC.Editor.frameContext.dslc_carousel();DSLC.Editor.frameContext.dslc_tabs();DSLC.Editor.frameContext.dslc_init_accordion();dslc_generate_code();dslc_show_publish_button();DSLC.Editor.initMediumEditor()});jQuery(e).find(".dslca-icon").attr("class","").attr("class","dslca-icon dslc-icon-refresh dslc-icon-spin");jQuery(".dslca-no-content-primary",b).css({opacity:0});jQuery(".dslca-modules-area-manage",b).css({visibility:"hidden"})}jQuery("body").removeClass("dslca-new-module-drag-in-progress").addClass("dslca-new-module-drag-not-in-progress");jQuery("#dslc-header").removeClass("dslca-header-low-z-index")},onAdd:function(a){var b=a.item;a.from},onUpdate:function(a){var b=a.item;dslc_show_publish_button()},onSort:function(a){a.preventDefault()},onRemove:function(a){},onFilter:function(a){var b=a.item},onMove:function(a){a.dragged;a.draggedRect;a.related;a.relatedRect;jQuery(a.to).addClass("dslca-options-hovered")}})}function dslc_option_changed(){dslc_show_publish_button()}function dslc_module_dragdrop_init(){dslc_drag_and_drop()}function dslc_fix_contenteditable(){DSLC.Editor.frame.on("dragstart",".dslca-module, .dslc-module-front, .dslc-modules-area, .dslc-modules-section",function(a){jQuery("[contenteditable]",DSLC.Editor.frame).attr("contenteditable",false)});DSLC.Editor.frame.on("dragend",".dslca-module, .dslc-module-front, .dslc-modules-area, .dslc-modules-section",function(a){jQuery("[contenteditable]",DSLC.Editor.frame).attr("contenteditable",true)})}function dslc_toogle_control(a){if(a===undefined)a=false;if(!a)return;var b=jQuery(".dslca-module-edit-option-"+a);var c=b.find(".dslca-module-edit-field");var d=jQuery(".dslca-module-being-edited",DSLC.Editor.frame);var e=d[0].id;var f="";if("tablet_responsive"===b.data("tab")){f="body.dslc-res-tablet "}else if("phone_responsive"===b.data("tab")){f="body.dslc-res-phone "}var g=c.data("affect-on-change-el");if(g===undefined)return;var h=g.split(",");g="";for(var i=0;i<h.length;i++){if(i>0){g+=", "}g+=f+"#"+e+" "+h[i]}var j=c.data("affect-on-change-rule").replace(/ /g,"");var k=j.split(",");var l;var m=c.data("ext");b.toggleClass("dslca-option-off");if(b.hasClass("dslca-option-off")){l=dslc_get_control_value(a);c.data("val-bckp",l);for(var i=0;i<k.length;i++){jQuery(g,DSLC.Editor.frame).css(k[i],"");disable_css_rule(g,k[i],e)}c.val("").trigger("change")}else{c.val(c.data("val-bckp")).trigger("change");l=dslc_get_control_value(a);l=dslc_combine_value_and_extension(l,m);for(var i=0;i<k.length;i++){jQuery(g,DSLC.Editor.frame).css(k[i],l)}}}jQuery(document).ready(function(a){jQuery(document).on("click",".dslca-module-edit-option .dslc-control-toggle",function(b){b.preventDefault();var c=a(b.target).closest(".dslca-module-edit-option").find(".dslca-module-edit-field").data("id");dslc_toogle_control(c)});jQuery(document).on("mousedown",".dslca-module-edit-option",function(b){var c=a(".dslc-control-toggle");if(!c.is(b.target)&&c.has(b.target).length===0){if(a(b.target).closest(".dslca-module-edit-option").hasClass("dslca-option-off")){var d=a(b.target).closest(".dslca-module-edit-option").find(".dslca-module-edit-field").data("id");dslc_toogle_control(d)}}})});function disable_css_rule(a,b,c){var d;var e="css-for-"+c;var f=document.getElementById("page-builder-frame").contentWindow.document.getElementById(e);a=a.replace(/\s\s+/g," ");if(f){f=f.sheet;if(f["rules"]){d="rules"}else if(f["cssRules"]){d="cssRules"}else{}for(var g=0;g<f[d].length;g++){if(f[d][g].selectorCSSText==a){if(f[d][g].style[b]){f[d][g].style[b]="";break}}}}}function dslc_combine_value_and_extension(a,b){if(""===a||null===a){return a}if(a.indexOf(b)==-1){a=a+b}return a}function dslc_get_control_value(a){var b=jQuery(".dslca-module-edit-option-"+a);var c="text";var d=b.find(".dslca-module-edit-field");var e;e=d.val();return e}"use strict";var DSLC_Util={addslashes:function(a){a=a.replace(/\\/g,"\\\\");a=a.replace(/\'/g,"\\'");a=a.replace(/\"/g,'\\"');a=a.replace(/\0/g,"\\0");return a},basename:function(a){return a.split(/[\\/]/).pop()},checkParams:function(a){if(!Array.isArray(a)){throw"Param is not array"}var b={integer:function(a){return isNaN(parseInt(a))},"float":function(a){return isNaN(parseFloat(a))},string:function(a){return a!=null&&a!=undefined&&typeof a=="string"},array:function(a){return Array.isArray(a)},object:function(a){return typeof a=="object"}};a.map(function(a){if(!b[a[1]](a[0])){throw"Param "+a[0]+" is not "+a[1]}})},utf8_to_b64:function(a){return window.btoa(unescape(encodeURIComponent(a)))},b64_to_utf8:function(a){return decodeURIComponent(escape(window.atob(a)))},get_page_params:function(){return decodeURIComponent(window.location.search.slice(1)).split("&").reduce(function a(b,c){c=c.split("=");b[c[0]]=c[1];return b},{})},get_unique_id:function(){return Math.random().toString(32).slice(2)},encode:function(a){a=dslc_serialize(a);a=DSLC_Util.utf8_to_b64(a);return a},decode:function(a){a=DSLC_Util.b64_to_utf8(a);a=dslc_unserialize(a);return a}};function dslc_dm_get_defaults(a){if(dslcDebug)console.log("dslc_dm_get_defaults");var b=a.find(".dslca-module-code").val();jQuery.post(DSLCAjax.ajaxurl,{action:"dslc-ajax-dm-module-defaults",dslc:"active",dslc_modules_options:b},function(a){jQuery(".dslca-prompt-modal textarea").val(a.output)})}function dslc_editable_content_gen_code(a){if(dslcDebug)console.log("dslc_editable_content_gen_code");var b,c,d;b=a.closest(".dslc-module-front");c=a.html().trim().replace(/<textarea/g,"<lctextarea").replace(/<\/textarea/g,"</lctextarea");d=a.data("id");jQuery('.dslca-module-option-front[data-id="'+d+'"]',b).val(c);dslc_show_publish_button()}jQuery(document).ready(function(a){a(document).on("click",".dslca-module-get-defaults-hook",function(){var b=jQuery(this).closest(".dslc-module-front");var c=dslc_dm_get_defaults(b);var d='<span class="dslca-prompt-modal-title">Module Defaults</span>'+'<span class="dslca-prompt-modal-descr">The code bellow is used to alter the defaults.</span>'+"<textarea></textarea><br><br>";a(".dslca-prompt-modal-cancel-hook").hide();a(".dslca-prompt-modal-confirm-hook").html('<span class="dslc-icon dslc-icon-ok"></span>OK');dslc_js_confirm("dev_mode_get_default",d,b)});a(document).unbind("keydown").bind("keydown",function(b){var c=false;if(b.keyCode===8){var d=b.srcElement||b.target;if(d.tagName.toUpperCase()==="INPUT"&&(d.type.toUpperCase()==="TEXT"||d.type.toUpperCase()==="PASSWORD"||d.type.toUpperCase()==="NUMBER"||d.type.toUpperCase()==="FILE")||d.tagName.toUpperCase()==="TEXTAREA"||a(d).hasClass("dslca-editable-content")||a(d).hasClass("dslc-tabs-nav-hook-title")||a(d).hasClass("dslc-accordion-title")){c=d.readOnly||d.disabled}else{c=true}}if(c){b.preventDefault()}});a(document).on("keydown",function(a){if(a.which==116||a.which===82&&event.metaKey){if(jQuery(".dslca-save-composer-hook").offsetParent!==null||jQuery(".dslca-module-edit-save").offsetParent!==null){a.preventDefault();dslc_js_confirm("disable_lc",'<span class="dslca-prompt-modal-title">'+DSLCString.str_refresh_title+'</span><span class="dslca-prompt-modal-descr">'+DSLCString.str_refresh_descr+"</span>",document.URL)}}});a(document).on("click",".dslca-refresh-module-hook",function(a){jQuery(this).css({"-webkit-animation-name":"dslcRotate","-moz-animation-name":"dslcRotate","animation-name":"dslcRotate","animation-duration":"0.6s","-webkit-animation-duration":"0.6s","animation-iteration-count":"infinite","-webkit-animation-iteration-count":"infinite"});jQuery(this).closest(".dslc-module-front").addClass("dslca-module-being-edited");dslc_module_output_altered(function(){jQuery(".dslca-module-being-edited",DSLC.Editor.frame).removeClass("dslca-module-being-edited")})})});window.onbeforeunload=function(){return};jQuery(document).ready(function(a){jQuery(document).on("change",".dslca-modules-section-edit-field",function(){var b,c,d,e,f,g,h,i,j,k,l;b=a(this);c=b.data("id");f=b.val();g=f;h=f+b.data("ext");i=b.data("css-rule");d=a(".dslca-modules-section-being-edited",DSLC.Editor.frame);k=d;j=a('.dslca-modules-section-settings input[data-id="'+c+'"]',d);d.addClass("dslca-modules-section-change-made");if(b.hasClass("dslca-modules-section-edit-field-upload")){if(f&&f.length){f=a('.dslca-modules-section-settings input[data-id="dslca-img-url"]',d).val()}}if(i=="background-image"){f='url("'+f+'")';DSLC.Editor.frameContext.dslc_bg_video()}if(c=="bg_image_attachment"){d.removeClass("dslc-init-parallax")}if(c=="border-top"||c=="border-right"||c=="border-bottom"||c=="border-left"){var m=a('.dslca-modules-section-settings input[data-id="border_style"]').val();j=a('.dslca-modules-section-settings input[data-id="border"]',d);g="";var n=b.closest(".dslca-modules-section-edit-option-checkbox-wrapper");n.find(".dslca-modules-section-edit-field-checkbox").each(function(){if(a(this).is(":checked")){if(a(this).data("id")=="border-top"){g+="top "}else if(a(this).data("id")=="border-right"){g+="right "}else if(a(this).data("id")=="border-bottom"){g+="bottom "}else if(a(this).data("id")=="border-left"){g+="left "}}});if(b.is(":checked")){if(b.data("id")=="border-top"){d.css({"border-top-style":m})}else if(b.data("id")=="border-right"){d.css({"border-right-style":m})}else if(b.data("id")=="border-bottom"){d.css({"border-bottom-style":m})}else if(b.data("id")=="border-left"){d.css({"border-left-style":m})}}else{if(b.data("id")=="border-top"){d.css({"border-top-style":"hidden"})}else if(b.data("id")=="border-right"){d.css({"border-right-style":"hidden"})}else if(b.data("id")=="border-bottom"){d.css({"border-bottom-style":"hidden"})}else if(b.data("id")=="border-left"){d.css({"border-left-style":"hidden"})}}}else if(b.hasClass("dslca-modules-section-edit-field-checkbox")){var o=a(this).closest(".dslca-modules-section-edit-option-checkbox-wrapper").find(".dslca-modules-section-edit-field-checkbox");var p="";o.each(function(){if(a(this).prop("checked")){p+=a(this).data("val")+" "}});var g=p;if(b.data("id")=="show_on"){if(p.indexOf("desktop")!==-1){a(".dslca-modules-section-being-edited",DSLC.Editor.frame).removeClass("dslc-hide-on-desktop")}else{a(".dslca-modules-section-being-edited",DSLC.Editor.frame).addClass("dslc-hide-on-desktop")}if(p.indexOf("tablet")!==-1){a(".dslca-modules-section-being-edited",DSLC.Editor.frame).removeClass("dslc-hide-on-tablet")}else{a(".dslca-modules-section-being-edited",DSLC.Editor.frame).addClass("dslc-hide-on-tablet")}if(p.indexOf("phone")!==-1){a(".dslca-modules-section-being-edited",DSLC.Editor.frame).removeClass("dslc-hide-on-phone")}else{a(".dslca-modules-section-being-edited",DSLC.Editor.frame).addClass("dslc-hide-on-phone")}}}else if(c=="bg_image_attachment"&&f=="parallax"||c=="type"){if(c=="bg_image_attachment"){d.addClass("dslc-init-parallax");DSLC.Editor.frameContext.dslc_parallax()}else if(c=="type"){if(f=="full"){d.addClass("dslc-full")}else{d.removeClass("dslc-full")}DSLC.Editor.frameContext.dslc_masonry()}}else if(c=="columns_spacing"){if(f=="nospacing"){d.addClass("dslc-no-columns-spacing")}else{d.removeClass("dslc-no-columns-spacing")}}else if(c=="custom_class"){}else if(c=="custom_id"){}else if(c=="bg_video"){jQuery(".dslc-bg-video video",d).remove();if(f&&f.length){var q=f;q=q.replace(".webm","");q=q.replace(".mp4","");jQuery(".dslc-bg-video-inner",d).html('<video><source type="video/mp4" src="'+q+'.mp4" /><source type="video/webm" src="'+q+'.webm" /></video>');DSLC.Editor.frameContext.dslc_bg_video()}}else if(c=="bg_image_thumb"){if(g=="enabled"){if(jQuery("#dslca-post-data-thumb").length){var r="url('"+jQuery("#dslca-post-data-thumb").val()+"')";k.css(i,r)}}else if(g=="disabled"){k.css(i,"none")}}else{if(b.data("css-element")){k=jQuery(b.data("css-element"),d)}i=i.replace(/ /g,"").split(",");var s;if(null!=b.data("ext")){s=h}else{s=f}for(var t=0;t<i.length;t++){k.css(i[t],s)}}j.val(g);if(!DSLC.Editor.flags.generate_code_after_row_changed)return false});jQuery(document).on("blur",".dslc-editable-area",function(b){var c=a(this).closest(".dslc-module-front");var d=a(this).data("dslc-option-id");var e=a(this).html();jQuery('.dslca-module-options-front textarea[data-id="'+d+'"]',c).val(e);dslc_module_output_altered()});jQuery(document).on("change",".dslca-module-edit-field",function(){if(dslcDebug)console.log("on change event for .dslca-module-edit-field");var b="",c="",d=jQuery(this),e=d.data("id"),f=d.closest(".dslca-module-edit-option"),g=jQuery(".dslca-module-being-edited",DSLC.Editor.frame),h=g.data("dslc-module-id"),i=jQuery(".dslca-module-options-front textarea",g);g.addClass("dslca-module-change-made");if(f.hasClass("dslca-module-edit-option-select")||f.hasClass("dslca-module-edit-option-checkbox")){dslc_module_options_hideshow_tabs()}if(jQuery(this).closest(".dslca-module-edit-option").data("refresh-on-change")=="active"){if(f.find(".dslca-module-edit-option-checkbox-wrapper").length){var j=jQuery('input[type="checkbox"]',f);j.each(function(){if(a(this).prop("checked")){b=b+jQuery(this).val()+" "}})}else if(d.hasClass("dslca-module-edit-option-radio")){var b=jQuery(".dslca-module-edit-field:checked",d).val()}else{var b=d.val();if(e=="orientation"&&b=="horizontal"){var k=jQuery(".dslca-module-edit-option-thumb_width .dslca-module-edit-field");k.val("40").trigger("change")}else if(e=="orientation"&&b=="vertical"){var k=jQuery(".dslca-module-edit-option-thumb_width .dslca-module-edit-field");k.val("100").trigger("change")}}jQuery('.dslca-module-options-front textarea[data-id="'+e+'"]',g).val(b);jQuery(".dslca-container-loader").show();dslc_module_output_altered(function(){jQuery(".dslca-module-being-edited",DSLC.Editor.frame).addClass("dslca-module-change-made");if(e=="css_load_preset"&&!jQuery("body").hasClass("dslca-new-preset-added")){dslc_module_options_show(h);jQuery(".dslca-container-loader").hide()}else{jQuery(".dslca-container-loader").hide()}jQuery("body").removeClass("dslca-new-preset-added")})}else{if(d.hasClass("dslca-module-edit-field-font")){var l=d.val();l=l+":400,100,200,300,500,600,700,800,900";var m=d.data("affect-on-change-el");var n=d.data("affect-on-change-rule");var o=d.val();var p=o;var q=jQuery(".dslca-module-being-edited",DSLC.Editor.frame);if(d.val().length&&dslcGoogleFontsArray.indexOf(d.val())!==-1){document.getElementById("page-builder-frame").contentWindow.WebFont.load({google:{families:[l]},active:function(a,b){if(jQuery(".dslca-font-loading").closest(".dslca-module-edit-field-font-next").length){jQuery(".dslca-font-loading").removeClass("dslca-font-loading").find(".dslca-icon").removeClass("dslc-icon-spin").addClass("dslc-icon-chevron-right")}else{jQuery(".dslca-font-loading").removeClass("dslca-font-loading").find(".dslca-icon").removeClass("dslc-icon-spin").addClass("dslc-icon-chevron-left")}jQuery(m,q).css(n,o)},inactive:function(a,b){if(jQuery(".dslca-font-loading").closest(".dslca-module-edit-field-font-next").length){jQuery(".dslca-font-loading").removeClass("dslca-font-loading").find(".dslca-icon").removeClass("dslc-icon-spin").addClass("dslc-icon-chevron-right")}else{jQuery(".dslca-font-loading").removeClass("dslca-font-loading").find(".dslca-icon").removeClass("dslc-icon-spin").addClass("dslc-icon-chevron-left")}}})}else{setTimeout(function(){if(jQuery(".dslca-font-loading.dslca-module-edit-field-font-next").length){jQuery(".dslca-font-loading").removeClass("dslca-font-loading").find(".dslca-icon").removeClass("dslc-icon-spin").addClass("dslc-icon-chevron-right")}else{jQuery(".dslca-font-loading").removeClass("dslca-font-loading").find(".dslca-icon").removeClass("dslc-icon-spin").addClass("dslc-icon-chevron-left")}jQuery(m,q).css(n,o)},100)}}else if(d.hasClass("dslca-module-edit-field-checkbox")){var j=jQuery('input[type="checkbox"]',f);j.each(function(){if(jQuery(this).prop("checked")){b=b+"solid ";c=c+a(this).val()+" "}else{b=b+"none "}})}if(!d.hasClass("dslca-module-edit-field-font")){var r=d.data("ext")||"";var m=d.data("affect-on-change-el");var n=d.data("affect-on-change-rule");var o=d.val();var p=o;if(d.hasClass("dslca-module-edit-field-checkbox")){o=b;p=c}if(d.hasClass("dslca-module-edit-field-image")){o='url("'+o+'")'}if(null!==o&&o.length<1&&(n=="background-color"||n=="background")){o="transparent"}n.split(",").forEach(function(a){a=a.replace(/\s+/g,"");var b=jQuery(".dslca-module-being-edited",DSLC.Editor.frame);jQuery(m,b).css(a,o+r)})}jQuery('.dslca-module-option-front[data-id="'+e+'"]',g).val(p)}});a(document).on("keyup, blur",".dslca-module-edit-field-numeric",function(){var b="",c=a(this),d=c.data("id"),e=c.closest(".dslca-module-edit-option"),f=a(".dslca-module-being-edited",DSLC.Editor.frame),g=f.data("dslc-module-id"),h=jQuery(".dslca-module-options-front textarea",f),i=c.data("affect-on-change-el"),j=c.data("affect-on-change-rule"),k=c.val(),l=k+c.data("ext"),m;f.addClass("dslca-module-change-made");if(jQuery(this).closest(".dslca-module-edit-option").data("refresh-on-change")!="active"){m=j.replace(/ /g,"").split(",");for(var n=0;n<m.length;n++){var o=a(".dslca-module-being-edited",DSLC.Editor.frame);jQuery(i,o).css(m[n],l)}jQuery('.dslca-module-option-front[data-id="'+d+'"]',f).val(k)}})});jQuery(document).ready(function(a){var b;jQuery(document).on("click",".dslca-module-edit-field-image-add-hook, .dslca-modules-section-edit-field-image-add-hook",function(){var a=jQuery(this);if(a.hasClass("dslca-module-edit-field-image-add-hook")){var c=a.siblings(".dslca-module-edit-field-image");var d=a.siblings(".dslca-module-edit-field-image-remove-hook")}else{var c=a.siblings(".dslca-modules-section-edit-field-upload");var d=a.siblings(".dslca-modules-section-edit-field-image-remove-hook")}var e=false;b=wp.media.frames.file_frame=wp.media({title:"Choose Image",button:{text:"Confirm"},multiple:e});b.on("select",function(){var e=b.state().get("selection").first().toJSON();c.val(e.id);jQuery(".dslca-modules-section-being-edited",DSLC.Editor.frame).find('.dslca-modules-section-settings input[data-id="dslca-img-url"]').val(e.url);c.trigger("change");a.hide();d.show()});b.open()});jQuery(document).on("click",".dslca-module-edit-field-image-remove-hook, .dslca-modules-section-edit-field-image-remove-hook",function(){var a=jQuery(this);if(a.hasClass("dslca-module-edit-field-image-remove-hook")){var b=a.siblings(".dslca-module-edit-field-image");var c=a.siblings(".dslca-module-edit-field-image-add-hook")}else{var b=a.siblings(".dslca-modules-section-edit-field-upload");var c=a.siblings(".dslca-modules-section-edit-field-image-add-hook")}b.val("").trigger("change");a.hide();c.show()});jQuery(document).on("click",".dslca-wp-editor-save-hook",function(){var a=jQuery(".dslca-wysiwyg-active",DSLC.Editor.frame).closest(".dslc-module-front");if(typeof tinymce!="undefined"){if(jQuery("#wp-dslcawpeditor-wrap").hasClass("tmce-active")){var b=tinymce.get("dslcawpeditor");var c=b.getContent()}else{var c=jQuery("#dslcawpeditor").val()}jQuery(".dslca-wp-editor").hide();jQuery(".dslca-wysiwyg-active",DSLC.Editor.frame).html(c);if(a.hasClass("dslc-module-handle-like-accordion")){jQuery(".dslca-wysiwyg-active",DSLC.Editor.frame).siblings(".dslca-accordion-plain-content").val(c);var d=a.find(".dslc-accordion");dslc_accordion_generate_code(d)}else if(a.hasClass("dslc-module-handle-like-tabs")){jQuery(".dslca-wysiwyg-active",DSLC.Editor.frame).siblings(".dslca-tab-plain-content").val(c);var e=a.find(".dslc-tabs");dslc_tabs_generate_code(e)}dslc_editable_content_gen_code(jQuery(".dslca-wysiwyg-active",DSLC.Editor.frame));jQuery(".dslca-wysiwyg-active",DSLC.Editor.frame).removeClass("dslca-wysiwyg-active")}else{console.info("Live Composer: TinyMCE is undefined.")}});jQuery(document).on("click",".dslca-wp-editor-cancel-hook",function(){a(".dslca-wp-editor").hide();a(".dslca-wysiwyg-active",DSLC.Editor.frame).removeClass("dslca-wysiwyg-active")})});